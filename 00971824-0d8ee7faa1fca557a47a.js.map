{"version":3,"file":"00971824-0d8ee7faa1fca557a47a.js","mappings":"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","sources":["webpack://@vallista/blog/../../../src/components/Image/index.tsx"],"sourcesContent":["import { css } from '@emotion/react'\nimport styled from '@emotion/styled'\nimport { useEffect, useRef, useState, VFC } from 'react'\n\nimport { raiseDecimalPoint } from '../../utils/math'\nimport { ImageProps } from './type'\n\n/**\n * # Image\n * \n * 이미지 컴포넌트.\n * \n * 1. 이미지를 불러오기 전 로딩을 진행하고\n * 2. 로딩이 완료되면 fade-in 애니메이션으로 보여줍니다.\n * \n * @param {ImageProps} {@link ImageProps} 기본적인 프롭\n * \n * @example ```tsx\n  <Image\n    src={`https://assets.vercel.com/image/upload/q_auto/front/zeit/og.png`}\n    width={540}\n    height={300}\n    margin={0}\n  />\n\n  <Image\n    src={`https://assets.vercel.com/image/upload/q_auto/front/assets/design/components/triangle.gif`}\n    width={540}\n    height={309}\n    margin={0}\n    caption='Source: giphy.com'\n    captionSpacing={20}\n  />\n * ```\n */\nexport const ImageComponent: VFC<ImageProps> = (props) => {\n  const { caption, captionSpacing, src, ...otherProps } = props\n\n  const ref = useRef<HTMLImageElement>(null)\n  const [imgSrc, setImgSrc] = useState<string | null>(null)\n\n  useEffect(() => {\n    const imageLoader = new Image()\n    imageLoader.src = src\n\n    imageLoader.onload = () => {\n      setImgSrc(src)\n    }\n\n    return () => {\n      imageLoader.onload = null\n    }\n  }, [])\n\n  const height = raiseDecimalPoint((otherProps.height / otherProps.width) * 100)\n  const onlyProps = {\n    src: imgSrc\n  }\n\n  return (\n    <Container {...onlyProps} {...otherProps} show={!!imgSrc}>\n      <Main width={otherProps.width}>\n        <Wrapper height={height}>\n          <Img ref={ref} decoding='async' src={imgSrc ?? ''} />\n        </Wrapper>\n        {caption && <Caption style={{ marginTop: `${captionSpacing}px` }}>{caption}</Caption>}\n      </Main>\n    </Container>\n  )\n}\n\nconst Container = styled.figure<{ show: boolean } & Pick<ImageProps, 'width' | 'height' | 'margin'>>`\n  display: block;\n  text-align: center;\n\n  ${({ show, margin }) => css`\n    margin: ${margin ?? 0}px 0;\n    opacity: ${show ? 1 : 0};\n    transition: opacity 0.2s cubic-bezier(0.455, 0.03, 0.515, 0.955);\n  `}\n`\n\nconst Main = styled.main<Pick<ImageProps, 'width'>>`\n  ${({ width }) => css`\n    width: ${width}px;\n    margin: 0 auto;\n    max-width: 100%;\n  `}\n`\n\nconst Wrapper = styled.div<{ height: number }>`\n  display: flex;\n  justify-content: center;\n  position: relative;\n  ${({ height }) => css`\n    padding-bottom: ${height}%;\n  `}\n`\n\nconst Img = styled.img`\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n`\n\nconst Caption = styled.p`\n  ${({ theme }) => css`\n    color: ${theme.colors.PRIMARY.ACCENT_5};\n    font-size: 0.875rem;\n    text-align: center;\n  `}\n`\n"],"names":["F","I","caption","b","captionSpacing","A","src","W","c","_objectWithoutPropertiesLoose","_excluded","u","B","C","X","i","N","Z","Image","onload","d","m","height","width","G","Y","Object","assign","show","children","y","H","V","a","ref","decoding","n","style","marginTop","g","process","env","NODE_ENV","target","label","_ref","margin","l","_ref2","_ref3","name","styles","toString","p","_ref4","theme","colors","PRIMARY","ACCENT_5"],"sourceRoot":""}