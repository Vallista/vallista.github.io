<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, minimal-ui"/><meta name="generator" content="Gatsby 4.4.0"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><title data-react-helmet="true">첩첩산중, POS 시스템을 대응하자 · Vallista</title><meta data-react-helmet="true" name="description" content="Vallista의 블로그"/><meta data-react-helmet="true" name="image" content="https://vallista.kr/static/8e1d009e85a39cc317b4860c3c5ee1c0/1.png"/><meta data-react-helmet="true" property="og:url" content="https://vallista.kr/첩첩산중,-POS-시스템을-대응하자/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="첩첩산중, POS 시스템을 대응하자"/><meta data-react-helmet="true" property="og:description" content="Vallista의 블로그"/><meta data-react-helmet="true" property="og:image" content="https://vallista.kr/static/8e1d009e85a39cc317b4860c3c5ee1c0/1.png"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="첩첩산중, POS 시스템을 대응하자"/><meta data-react-helmet="true" name="twitter:description" content="Vallista의 블로그"/><meta data-react-helmet="true" name="twitter:image" content="https://vallista.kr/static/8e1d009e85a39cc317b4860c3c5ee1c0/1.png"/><meta data-react-helmet="true" name="google-site-verification" content="wPI09aIL9InuxJwKlMkLE-4mzzfbNhQqRCJ760C-8nQ"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="icon" href="/favicon-32x32.png?v=ad4b2d0e2a2cbdad6966358a512cff94" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="36x36" href="/favicons/android-icon-36x36.png?v=ad4b2d0e2a2cbdad6966358a512cff94"/><link rel="apple-touch-icon" sizes="48x48" href="/favicons/android-icon-48x48.png?v=ad4b2d0e2a2cbdad6966358a512cff94"/><link rel="apple-touch-icon" sizes="72x72" href="/favicons/android-icon-72x72.png?v=ad4b2d0e2a2cbdad6966358a512cff94"/><link rel="apple-touch-icon" sizes="96x96" href="/favicons/android-icon-96x96.png?v=ad4b2d0e2a2cbdad6966358a512cff94"/><link rel="apple-touch-icon" sizes="144x144" href="/favicons/android-icon-144x144.png?v=ad4b2d0e2a2cbdad6966358a512cff94"/><link rel="apple-touch-icon" sizes="192x192" href="/favicons/android-icon-192x192.png?v=ad4b2d0e2a2cbdad6966358a512cff94"/><link as="script" rel="preload" href="/webpack-runtime-3d3db5e0a829ff7ce92f.js"/><link as="script" rel="preload" href="/framework-96f35882fb1b7fa32ef9.js"/><link as="script" rel="preload" href="/b633362c-62058092fb5c3e8a52eb.js"/><link as="script" rel="preload" href="/63a121f2-20e4a7632ad718d1b6df.js"/><link as="script" rel="preload" href="/f3fee096-5247f87e275039b88366.js"/><link as="script" rel="preload" href="/3e15977f-1b62bb6ff473b1df1dc9.js"/><link as="script" rel="preload" href="/aec3edcd-91ec9f6e91025082e94d.js"/><link as="script" rel="preload" href="/2425c7c2-41dc7859d63d90c0bae4.js"/><link as="script" rel="preload" href="/d0007318-6fea1740cd50d7507975.js"/><link as="script" rel="preload" href="/cc76255b-7b4330c213863cc40f50.js"/><link as="script" rel="preload" href="/1593e758-162c8a90d05f592909c3.js"/><link as="script" rel="preload" href="/48aa8186-302503e69f848bbcb586.js"/><link as="script" rel="preload" href="/16afea63-28513c436d059db07a3a.js"/><link as="script" rel="preload" href="/app-f74c10ffeaf51e506f72.js"/><link as="script" rel="preload" href="/386142cf738b86b246078cd67abf8098b07f27c7-18c18209468ec8dd2984.js"/><link as="script" rel="preload" href="/component---src-template-post-tsx-22fa0b4deff6f744ec06.js"/><link as="fetch" rel="preload" href="/page-data/첩첩산중,-POS-시스템을-대응하자/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3810308631.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/757159059.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><style data-emotion="css-global 17x4tzf">@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');:root{--font-family:'Pretendard',-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;--code-font-family:Menlo,'DM Mono','Roboto Mono',Courier New,monospace;--scrollbar-background:#1e1e1e;--scrollbar-thumb:#666;--scrollbar-thumb-highlight:#ff0080;}html{font-size:16px;height:100%;overflow-x:hidden;overflow-y:scroll;-webkit-overflow-scrolling:touch;scrollbar-width:8px;scrollbar-color:var(--scrollbar-thumb-highlight) var(--scrollbar-background);}@media screen and (max-width: 1024px){html{font-size:14px;}}html::-webkit-scrollbar{background:var(--scrollbar-background);height:8px;width:8px;}html::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb-highlight);border-radius:0;}html,body{font-family:var(--font-family)!important;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;font-size:1rem;}div,article,section{box-sizing:border-box;}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:1rem;font:inherit;vertical-align:baseline;}label,input,button,a{-webkit-tap-highlight-color:transparent;}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;}body{line-height:1;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}table{border-collapse:collapse;border-spacing:0;}string{font-weight:600!important;}</style><style data-emotion="css pyz3l8">.css-pyz3l8{-webkit-transition:opacity 0.2s ease;transition:opacity 0.2s ease;opacity:0;}</style><div class="css-pyz3l8 e1l8l1ek0"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><style data-emotion="css 1azakc">.css-1azakc{text-align:center;}</style><header class="css-1azakc e1u77vp87"><style data-emotion="css 1j1kikd">.css-1j1kikd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:900px;padding:2rem;margin-left:auto;margin-right:auto;}@media screen and (max-width: 1024px){.css-1j1kikd{padding:1.5rem 1rem;}}</style><div class="css-1j1kikd e1u77vp86"><style data-emotion="css 1cdt2kf">.css-1cdt2kf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;width:100%;padding:0 1.5rem;}.css-1cdt2kf>h1{text-align:left;}</style><div class="css-1cdt2kf e1u77vp81"><style data-emotion="css 1gw8sdl">.css-1gw8sdl{color:inherit;font-size:2.5rem;line-height:1.5;font-weight:800;}white-space:nowrap;strong,bold{font-weight:800;}</style><h1 size="40" class="css-1gw8sdl e1hbo0dt1">첩첩산중, POS 시스템을 대응하자</h1><style data-emotion="css 1ixtmro">.css-1ixtmro{margin-left:calc(1.5rem - 1px);margin-top:calc(1.5rem - 1px);width:1px;height:1px;min-width:1px;min-height:1px;}</style><span x="1" y="1" class="css-1ixtmro emkj2ze0"></span><style data-emotion="css lc9od6">.css-lc9od6{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;min-width:1px;max-width:100%;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;box-sizing:border-box;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}.css-lc9od6>*:not(:first-of-type){margin-left:calc(0.5 * 1rem);}</style><div wrap="wrap" class="css-lc9od6 e727h3x0"><style data-emotion="css 9xks5q">.css-9xks5q{display:inline-block;vertical-align:middle;border-radius:16px;font-weight:500;line-height:1;cursor:inherit;font-feature-settings:tnum;font-variant:tabular-nums;text-transform:capitalize;white-space:nowrap;background:#000;color:#ffffff;border:1px solid #000;padding:3px 10px;font-size:1rem;}</style><span type="primary" class="css-9xks5q e13ch0c00">#<!-- -->All</span><span type="primary" class="css-9xks5q e13ch0c00">#<!-- -->FrontEnd</span></div><span x="1" y="1" class="css-1ixtmro emkj2ze0"></span><style data-emotion="css 715507">.css-715507{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;}@media screen and (max-width: 1024px){.css-715507{-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}}</style><div class="css-715507 e1u77vp85"><style data-emotion="css 1u6n871">.css-1u6n871{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}</style><div class="css-1u6n871 e1u77vp84"><style data-emotion="css zdebxm">.css-zdebxm{color:inherit;font-size:1rem;line-height:1.5;}white-space:nowrap;strong,bold{font-weight:800;}</style><span size="16" class="css-zdebxm e1hbo0dt1">Written by <a href="/">Vallista</a></span><style data-emotion="css 69wa56">.css-69wa56{margin-left:calc(1.5rem - 1px);margin-top:calc(0.375rem - 1px);width:1px;height:1px;min-width:1px;min-height:1px;}</style><span x="1" y="0.25" class="css-69wa56 emkj2ze0"></span><style data-emotion="css 4f3fw3">.css-4f3fw3{color:inherit;font-size:0.875rem;line-height:1.5;}white-space:nowrap;strong,bold{font-weight:800;}</style><span size="14" class="css-4f3fw3 e1hbo0dt1">2021년 12월 19일<!-- --> · <!-- -->7<!-- --> min read</span></div><style data-emotion="css 1yvy03y">.css-1yvy03y{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:0.5rem;margin-bottom:1.5rem;}</style><div class="css-1yvy03y e1u77vp83"><style data-emotion="css 18zu07s">.css-18zu07s{position:relative;}.css-18zu07s:hover>div:last-of-type{opacity:1;}</style><div class="css-18zu07s e1flq7492"><style data-emotion="css cssveg">.css-cssveg{position:relative;}</style><div class="css-cssveg e1flq7491"><style data-emotion="css 7a8mbj">.css-7a8mbj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:30px;height:30px;outline:none;border:none;border-radius:15px;cursor:pointer;padding:0;background:#000;color:#ffffff;}</style><button class="css-7a8mbj e1u77vp82"><svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"></path></svg></button></div></div><div class="css-18zu07s e1flq7492"><div class="css-cssveg e1flq7491"><button class="css-7a8mbj e1u77vp82"><svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"></path></svg></button></div></div></div></div></div><span x="1" y="1" class="css-1ixtmro emkj2ze0"></span><style data-emotion="css 1d3w5wq">.css-1d3w5wq{width:100%;}</style><div class="css-1d3w5wq e1u77vp80"><style data-emotion="css a1pnd7">.css-a1pnd7{text-align:left;border-top:1px solid #EAEAEA;border-bottom:1px solid #EAEAEA;padding:1.5rem;box-shadow:0 5px 10px rgba(0, 0, 0, 0.12);border-radius:5px;border:none;}</style><div class="css-a1pnd7 exgegpl6"><style data-emotion="css b54kzr">.css-b54kzr{font-weight:600;font-size:1.25rem;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;margin-top:0;margin-bottom:0;}</style><h3 class="css-b54kzr exgegpl5"><style data-emotion="css 16yxw0r">.css-16yxw0r{width:100%;margin-bottom:0;margin-top:0;border:unset;background:unset;padding:unset;margin:unset;font:unset;text-align:unset;-webkit-appearance:unset;-moz-appearance:unset;-ms-appearance:unset;appearance:unset;}</style><button class="css-16yxw0r exgegpl3"><style data-emotion="css ml2823">.css-ml2823{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;cursor:pointer;vertical-align:baseline;padding:1.5rem 0;color:#000;}</style><span class="css-ml2823 exgegpl2">React로 영수증 개발하기<style data-emotion="css mzobh8">.css-mzobh8{-webkit-transition:-webkit-transform 0.2s ease;transition:transform 0.2s ease;-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);}</style><span class="css-mzobh8 exgegpl1"><svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision"><path d="M18 15l-6-6-6 6"></path></svg></span></span></button><style data-emotion="css 153tcrd">.css-153tcrd{font-size:0.75rem;font-weight:400;letter-spacing:normal;margin-bottom:0;display:block;color:#666;}</style><span class="css-153tcrd exgegpl4">시리즈의 글 (2개)</span></h3><style data-emotion="css 10lbtih">.css-10lbtih{font-size:1rem;line-height:26px;overflow-y:hidden;will-change:height;-webkit-transition:height 0.2s ease;transition:height 0.2s ease;}.css-10lbtih>div{margin:1rem 0;}</style><div class="css-10lbtih exgegpl0"><div><style data-emotion="css 6z6c3m">.css-6z6c3m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;min-width:1px;max-width:100%;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;box-sizing:border-box;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-6z6c3m>section,.css-6z6c3m>div,.css-6z6c3m>article,.css-6z6c3m>header,.css-6z6c3m>footer{gap:calc(1 * 1rem);}.css-6z6c3m:last-of-type{margin-bottom:0;}</style><div class="css-6z6c3m e727h3x0"><style data-emotion="css 1o02nna">.css-1o02nna{padding-left:1.5rem;box-sizing:border-box;line-height:1.6;list-style:decimal;}</style><ol class="css-1o02nna e1099qf81"><style data-emotion="css 11ys4fg">.css-11ys4fg{margin-bottom:0.5rem;}.css-11ys4fg::marker{font-weight:600;color:#FF0080;}.css-11ys4fg::after{content:'- 7분';margin-left:0.2rem;font-size:0.8rem;}.css-11ys4fg>span{cursor:pointer;border-bottom:2px solid #FF0080;font-weight:600;-webkit-text-decoration:none;text-decoration:none;color:#000;-webkit-transition:all 0.1s ease-out;transition:all 0.1s ease-out;}.css-11ys4fg>span:hover{background:#FF0080;border-top:2px solid #FF0080;color:#ffffff;}</style><li class="css-11ys4fg e1099qf80"><span>첩첩산중, POS 시스템을 대응하자</span></li><style data-emotion="css tlcamv">.css-tlcamv{margin-bottom:0.5rem;}.css-tlcamv::marker{font-weight:600;color:#FF0080;}.css-tlcamv::after{content:'- 12분';margin-left:0.2rem;font-size:0.8rem;}.css-tlcamv>span{cursor:pointer;border-bottom:2px solid #FF0080;font-weight:600;-webkit-text-decoration:none;text-decoration:none;color:#000;-webkit-transition:all 0.1s ease-out;transition:all 0.1s ease-out;}.css-tlcamv>span:hover{background:#FF0080;border-top:2px solid #FF0080;color:#ffffff;}</style><li class="css-tlcamv e1099qf80"><span>영수증, React 그리고 emotion</span></li></ol></div></div></div></div></div></div></header><div><style data-emotion="css 141f78l">.css-141f78l{width:100%;max-width:900px;padding:2rem;margin-left:auto;margin-right:auto;width:calc(100vw - 400px);}@media screen and (max-width: 1024px){.css-141f78l{padding:1rem;}}@media screen and (max-width: 1308px){.css-141f78l{width:calc(100vw - 408px);}}@media screen and (max-width: 1024px){.css-141f78l{width:calc(100vw - 8px);}}.css-141f78l p>img{width:100%;}.css-141f78l p{color:#111;font-weight:400;line-height:1.6;letter-spacing:-0.02rem;}.css-141f78l p,.css-141f78l table,.css-141f78l ul,.css-141f78l blockquote,.css-141f78l ol{font-size:1rem;margin:0 0 2rem;}.css-141f78l center{color:#666;font-size:0.8rem;font-weight:400;line-height:1.5;letter-spacing:-0.02rem;margin:0 0 2rem;}.css-141f78l p+center,.css-141f78l iframe+center{margin-top:-1rem;}.css-141f78l h1,.css-141f78l h2,.css-141f78l h3,.css-141f78l h4,.css-141f78l h5{position:relative;color:#000;line-height:1.2;scroll-margin-top:60px;letter-spacing:-0.02rem;font-weight:600;background:none;}.css-141f78l h1>a,.css-141f78l h2>a,.css-141f78l h3>a,.css-141f78l h4>a,.css-141f78l h5>a{color:#000;opacity:0;border:none;position:absolute;top:50%;left:0;-webkit-transform:translate(-100%, -50%);-moz-transform:translate(-100%, -50%);-ms-transform:translate(-100%, -50%);transform:translate(-100%, -50%);padding-right:4px;}.css-141f78l h1:hover>a,.css-141f78l h2:hover>a,.css-141f78l h3:hover>a,.css-141f78l h4:hover>a,.css-141f78l h5:hover>a{color:#000;background:none;border:none;opacity:1;}.css-141f78l h2:not(:first-of-type),.css-141f78l h3:not(:first-of-type),.css-141f78l h4:not(:first-of-type){margin-top:3rem;}.css-141f78l h1,.css-141f78l h2,.css-141f78l h3,.css-141f78l h4,.css-141f78l h5{margin:0 0 1.25rem;}.css-141f78l h1,.css-141f78l h2{font-size:1.8rem;-webkit-filter:brightness(1);filter:brightness(1);}.css-141f78l h3{font-size:1.4rem;-webkit-filter:brightness(1.3);filter:brightness(1.3);}.css-141f78l h4{-webkit-filter:brightness(1.5);filter:brightness(1.5);font-size:1.1rem;padding-bottom:0.25rem;text-transform:uppercase;}.css-141f78l ul,.css-141f78l ol{padding-left:1.5rem;box-sizing:border-box;line-height:1.6;}.css-141f78l ul ul,.css-141f78l ol ul{margin-top:8px;}.css-141f78l ul ul,.css-141f78l ol ul,.css-141f78l ul ol,.css-141f78l ol ol{margin-bottom:0;}.css-141f78l ul{list-style:disc;}.css-141f78l ol{list-style:decimal;}.css-141f78l ul li{margin-bottom:0.5rem;}.css-141f78l ul li::marker{font-weight:600;color:#FF0080;}.css-141f78l ol li{margin-bottom:0.5rem;}.css-141f78l ol li::marker{font-weight:600;color:#FF0080;}.css-141f78l li>a{white-space:inherit;word-wrap:break-word;}.css-141f78l li{color:#000;}.css-141f78l li code{font-weight:600;color:#FF0080;white-space:inherit;}.css-141f78l li code * span{white-space:inherit;}.css-141f78l li code * span:not([class='grvsc-source']){padding-left:0!important;}.css-141f78l iframe{margin-bottom:2rem;}.css-141f78l div[class*='markdown-wrapper']{font-size:0.9rem;-webkit-text-size-adjust:none;-moz-text-size-adjust:none;-ms-text-size-adjust:none;text-size-adjust:none;margin:1rem -1rem;overflow-x:auto;overflow-y:hidden;box-sizing:border-box;background-color:var(--scrollbar-background);padding-left:2rem;scrollbar-width:8px;scrollbar-color:var(--scrollbar-thumb) var(--scrollbar-background);}.css-141f78l div[class*='markdown-wrapper']::-webkit-scrollbar{background:var(--scrollbar-background);height:8px;width:8px;}.css-141f78l div[class*='markdown-wrapper']::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:0;}@media screen and (min-width: 1350px){.css-141f78l div[class*='markdown-wrapper']{margin-left:-3.5rem;margin-right:-3.5rem;margin-bottom:2rem;}}@media screen and (max-width: 1024px){.css-141f78l div[class*='markdown-wrapper']{padding-left:1rem;}}.css-141f78l pre{border-radius:0;float:left;margin-bottom:0;margin-top:0;min-width:calc(100% + 1rem);padding:1rem 1rem 1rem 0;-webkit-font-smoothing:subpixel-antialiased;overflow:initial;white-space:pre;font-family:var(--code-font-family);word-wrap:normal;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;tab-size:2;word-break:normal;word-spacing:normal;}.css-141f78l pre>code{font-weight:600;color:#FF0080;white-space:inherit;}.css-141f78l pre>code * span{white-space:inherit;}.css-141f78l pre>code * span:not([class='grvsc-source']){padding-left:0!important;}.css-141f78l p>code{font-weight:600;color:#FF0080;white-space:inherit;}.css-141f78l p>code * span{white-space:inherit;}.css-141f78l p>code * span:not([class='grvsc-source']){padding-left:0!important;}.css-141f78l img[class='gatsby-resp-image-image']{box-shadow:none!important;}.css-141f78l img[class='gatsby-resp-image-image'][alt]:after{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;top:0;left:0;width:100%;height:100%;background:#ffffff;font-weight:200;content:'이미지를 표시할 수 없어요. :(';}.css-141f78l blockquote{background:#EAEAEA;margin:0 -1rem;margin-bottom:2rem;padding:1rem 1rem;border-left:6px solid #FF0080;}.css-141f78l blockquote>p{margin-bottom:0;}@media screen and (min-width: 1350px){.css-141f78l blockquote{margin-left:-3.5rem;margin-right:-3.5rem;}}@media screen and (max-width: 1024px){.css-141f78l blockquote{padding-left:1rem;}}</style><section class="css-141f78l ez4kqd0"><p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 77.34374999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADDUlEQVQoz2P4////v3///v//v2zFyv6Jkysqqx0dHH29PPJys+/du7tv34Gy8sqKiqqK8oqbN2/AFUMAA4T69/dPQ2tv3/yt2V2L3TM7HFNaM4oa/AODo6KiIyMjIiNC1dSVZs2a/v///z9//iA0Q0z69OXT1J7pN299vnfv5pVNuxZtvbns0MGIyEhTU5OkxNiEuEgNTbWIyNAvX74gWw7V/PTpk8mTpn58/+nzl88fP374+undgwf3AgP9ra0tExNjwkMDU5OTi4sLnz59gkXzlSuX582b9/r121s3bz149Pjhw0eHjxxxdnG0sDRxc3XctHH9////f//+/R8VMPz9+/f///8nThxfvHjxwyfPr16/+fLVm4+fv+zas9fYRN/MzMDRyWbatEkQCyEAXfPOnTu3bNvx9///b79+P37y9Nnz5ytWrlJTUzQx1fPwdPb1c//67evPn7+QQwukGcJfsGChf2Bgb1/fxs2bT5w6/fLNu5mz5ygoSOsbaNg72nh4eXZ2dnd1dnd2tM+eNQPufqifHz58uHDBgoqK8sCgQHcPj9T09PDIcAVFaXUN1YCgsKTk9OjomJiYiOjosNSUhA/v30N8AdIMcTnECcuWLZGVk9LUUjc0MpCWEdfW0XBxdfHx8cnMSM3KSk1LS0xIiDl79uzv37///v0LTSSfPn06d+7c+vUbmpubrKzMNLVUVFTllVVk1dSVDI31jU2NoqLD4uKigoP9wsKCs7Myly9bCnL2gwcPV65Y1dfXn5uTW15ePnHi5MqKqqjIKE8vD3cPt8DAAC9vb0cnp4AA39iYqOTkxKysjMSEuNrammdPnzHcvn1n6pRpzU3NlZXVhQVFubl5Odk5KSmpiYlJiYnJCQkJiYkJSUkglJqanJWVWVVZ0d3dtXDB/Lt374Kc/ffv3xfPn588eXL+/AXNzS3paenRUaDwiY+PTUlJKist7uzsWLJk8eHDh27fvv3u3TtIGEFDGznef/36df/+/XVr106ZPGn9urVXr1598+bNn98o0QsJY2BoAwDhXVXv1uLQjwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="이미지1"
        title="이미지1"
        src="/static/8e1d009e85a39cc317b4860c3c5ee1c0/e85cb/1.png"
        srcset="/static/8e1d009e85a39cc317b4860c3c5ee1c0/6f3f2/1.png 256w,
/static/8e1d009e85a39cc317b4860c3c5ee1c0/e85cb/1.png 480w"
        sizes="(max-width: 480px) 100vw, 480px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<center>(아..)</center>
<p>이 전 글에서, React와 Emotion을 사용해 영수증을 출력했다. 그리고 다음글로 코드 리펙토링을 하는 것을 진행한다고 고지까지 했는데, 갑자기 "첩첩한중, POS 시스템을 대응하자" 라는 주제로 글을 쓰는지 의문인 사람이 있을 것이다.</p>
<p>결론적으로 이야기를 하면, 앞서 개발한 React 기반의 영수증 출력 프로그램은 윈도우 7 이상의 크롬, 파이어폭스 등 모던 브라우저에서 동작하도록 제공한 코드인데,
현재 다양한 매장에서 사용되는 포스 시스템은 2010년 전후로 작동되는 프로그램이 대다수이고, 이러한 포스 시스템에서는 윈도우 XP, IE 기반의 브라우저에서 동작한다.</p>
<p>그래서 이번 글에서는 React Emotion 기반의 포스 시스템을 해결하기 위한 일종의 "야크 셰이빙" 과정을 이야기하려 한다.</p>
<h2>왜 갑자기 POS?</h2>
<p>이전 영수증을 개발하는 프로세스에서 고려를 하지 않았던 것은 일종의 개발환경에 대한 믿음이었다.
배민의 전사적인 방향성도 그렇고, 니즈에 대한 운영체제, 현황을 확인하였을 때 문제 없는 스펙이었기에 크로미움 혹은 파이어폭스 기반으로 정상적으로 돌아가겠다는 생각으로 스펙을 정하게 되었다. 하지만 이는 좋지 않은 판단이었다.</p>
<p>비즈니스 초기에는 어떤 업체가 들어와서 이 영수증 소프트웨어를 사용할 지 모르는 상황이었기 때문에 어느정도 스펙을 우리가 정해서 가져갈 수 있는 자유도가 있었으나.
우리가 강제로 가져갈 수 있다는 판단은 오만이었고, 결국 폭넓은 기기에 대한 대응을 쉽게 할 수 있는 방법이 필요했다.</p>
<p>이러한 실제 매장에서 사용하는 서비스는 언제든 최악의 상황을 가정하여 개발해야한다. 비즈니스별로 개발자가 결정하고, 해당 결정을 따르도록 통보 형태로 매장에 가이드를 제공할수도 있지만,
비즈니스에는 갑과 을이 존재하는 만큼, 갑과 을의 관계 중 대다수의 소프트웨어 제공 업체 혹은 플랫폼 업체는 초기 시작 시 "을"의 경우에서 되는 경우가 많다.</p>
<p>"을"의 입장에서는 첫 시작에 수많은 업체를 제공해야하는 만큼 초기 환경 설정을 폭넓게 가져갔어야 하는데 이 것은 작업 일정에 치여 제대로 생각하지 못해, 나중 업체가 입점하면서 문제가 발생했다.
이러한 문제 상황에서 어떻게 대응/해결하고 추후 프로세스를 어떻게 개선해야할 것인지 이야기를 해보도록 하겠다.</p>
<h3>POS의 운영체제</h3>
<p><a href="https://ko.wikipedia.org/wiki/%EC%9C%88%EB%8F%84%EC%9A%B0_%EC%9E%84%EB%B2%A0%EB%94%94%EB%93%9C_%EC%9D%B8%EB%8D%94%EC%8A%A4%ED%8A%B8%EB%A6%AC">윈도우 임베디드 인더스트리(Windows Embedded Industry)</a> 라는 OS가 있다. 쉽게 말하면, POS용으로 윈도우가 운영체제를 만든거라 보면된다.
현재 매장들에 존재하는 대다수의 POS기기는 윈도우 임베디드 인더스트리의 "윈도우 임베디드 POSReady 2009"와 "윈도우 임베디드 POSReady 7"이다.</p>
<p>이는 최근 매장들에도 최신 운영체제보다 기존에 생산하던 업체들이 지속적으로 2009를 사용하고 있었기 때문이다. 최근 윈도우 POSReady 7으로 올라간 까닭은. POSReady 2009의 점유율이 너무 높아 2019년까지 지원을 해주었고, 2019년 이후로부터 POSReady 7을 지원하기 때문에 사용했기 때문이다. 그나마도 곧 POSReady 7도 2021년까지 지원이고, 곧 8.1로 올려서 점유율은 차근차근 올라갈 것이다.</p>
<p>그래서, 웹 개발자 입장에서 어떤걸 고려해야하는가 하면 OS에 따라 브라우저 호환을 신경써야한다. 윈도우 XP의 경우 IE6~IE8이 구동한다. 그렇다면 일단 HTML5는 물론 CSS3도 구동하지 않는 것이다. javascript도 ES5에서 더 내려야하는데, 이는 너무 고통스럽기 떄문에 XP에서 크로미움을 올리는게 현명한 방법일 것이다.
그렇다면 크로미움 기반의 브라우저를 사용할 수 있을 지 봐야한다. 일단, 크롬 레거시 빌드에서 윈도우 XP를 제공하는 버전이 존재한다. 그렇다면 크롬 레거시 빌드에서 동작하도록 제공하는 것이 좋은 것인가?를 생각해봐야 한다.</p>
<ol>
<li>POSReady는 2009, 7 등 다양한 버전이 존재한다. 2009는 XP 기반, 7은 7 기반이다.</li>
<li>크롬 레거시 빌드를 쓰려면 현재 OS 운영체제에 따라 레거시 빌드를 다운받도록 제공해야하며, 이 때 실수로 잘못 받을 가능성과 이미 깔렸을 때의 가능성을 고려해야한다.</li>
<li>다양한 OS에 따라 여러 서드파티 소프트웨어를 제공하는 것은 해당 서드파티 소프트웨어 버전도 관리해주어야 하기 때문에 올바르지 않다.</li>
</ol>
<p>결론적으로 소프트웨어를 하나만 제공해야하며, 사용하는 입장에서 버전관리는 소프트웨어 한 개만 생각하도록 해야한다. 물론 이 마저도 공수가 많이 들겠지만 최선의 방법일 것이다.</p>
<h3>POS의 프린터</h3>
<p>POS기의 운영체제도 신경을 써야하지만. POS기에 연결되어있는 프린터도 신경써야한다. 프린터는 EPSON, 도시바, 파나소닉등 다양한 프린터가 쓰인다. 이 프린터들은 일반적으로 윈도우에서 사용될 때 드라이버를 제공하게 되는데,
이 드라이버는 우리가 여러 프린터의 디펜던시를 신경쓰지 않아도 해결할 수 있게 제공한다. 조금 더 깊게 이야기를 하면, 사용자가 드라이버를 통해 컴퓨터 하드웨어 장치와 상호작용을 할 수 있도록 도와주기 떄문이다.</p>
<p>여기서의 트러블 슈팅 이야기 이전에, 프린트 프로세스를 한 번 보자.</p>
<ol>
<li>프린터를 진행할 데이터를 지정한다</li>
<li>스풀러에서 프린터를 진행할 대기열에 등록한다. (스풀 - spool)</li>
<li>스풀에 등록된 데이터를 이미지화를 시켜, 하드디스크(SSD)에 임시적으로 저장한다. (이미지 파일을 스풀 파일 이라고 한다.)</li>
<li>저장된 이미지를 CPU에서 다른 작업을 병렬적으로 진행하면서 프린터로 데이터를 전송한다.</li>
<li>다음 스풀에 등록된 데이터 출력준비를 진행한다. (1번으로 복귀)</li>
</ol>
<p>이 과정이 일어나는 이유는 CPU 자원을 병렬적으로 사용하기 위해서인데, 만일 프린터를 사용할 때 CPU를 모두 점유하고 있다면 문제가 발생할 것이다. 특히나, 중앙처리장치와 입출력장치(특히 프린터 등)가 서로간 처리할 수 있는 속도가 다르기 때문에 중앙처리장치는 입출력장치의 속도에 맞추어 데이터를 내보내줘야하기 때문이다.</p>
<p>만약 중앙처리장치가 입출력장치의 속도와 상관없이 데이터를 내보내준다면 데이터가 중간에 짤리거나 문제가 생기는 일들이 많아질 것이다. 그래서 사용 효율을 늘리기 위해 프린터로 전송될 데이터를 하드디스크에 저장(스풀파일)하고 프린터에서 요청을 할 때마다 비동기적으로 데이터를 제공해주므로써 (해당 데이터는 스풀러에서 관리) 효율을 늘린다.</p>
<p>그런데 여기서 체크해야할 부분은 크게 두 가지인데,</p>
<ol>
<li>POS기의 성능</li>
<li>프린터기의 성능</li>
</ol>
<p>첫 번째로 POS기의 성능을 확인해야 하는 이유는, 이미지화(스풀파일화)과정과 CPU에서 프린터로 데이터를 전달하는 속도적인 문제에 있다. CPU가 좋지 않다면, 이미지화 하는 속도가 매우 느려질 것이고, 프린터에 데이터 또한 느리게 들어가면서 문제가 생길것이다.</p>
<p>두 번째로 프린터기의 성능인데, 프린터기에서 처리할 수 있는 레지스터 메모리 혹은 캐시 용량에 따라 프린터 데이터 크기에 따라 프린팅할 수 있는 속도가 정해진다.</p>
<p>대다수의 보급된 프린터와 POS의 경우, 2010년 전후로 제공되는 경우가 대다수이다. 그렇기 때문에 어느정도 성능이나 위의 프린트 프로세스를 제공해주는 드라이버들이 존재하는 경우들이 많다. 하지만, 이번 프로젝트의 경우 POS, 프린터기가 너무나 폭넓은 사양을 커버할 수 있어야 했다.</p>
<p>그런데 문제가 발생했다. 2000년대 초반에 생산된 POS, 프린터에서 영수증 출력에 약 30초가량이 걸리는 문제가 발생한 것이다. 이렇게 걸리는 문제는 POS기 성능이 좋지 못해 이미지화를 시키고 프린터로 보내는 CPU 성능이 문제가 되었기 때문이다.</p>
<p>그래서, 접근 방법을 다르게 해야했다. 드라이버를 사용하지 않고 직접적으로 프린터 기기에 전달하는 방법을 사용해야했고, 이는 COM 포트 연결을 통해 Serial 통신을 해야했다. Serial 통신은 UDP 기반의 데이터 통신이며, UDP 기반으로 직접 하드웨어와 통신하기 떄문에 위의 스풀러 프로세스를 진행할 필요가 없었다.</p>
<h3>COM 포트 통신</h3>
<p>프린터에 Serial Port 통신으로 데이터를 보낼때, 프린터 커맨드라는게 존재한다. 쉽게말하면 프린터기의 레지스터에서 처리할 수 있는 어떤 특정한 코드를 보내는 것으로 해석하면 된다. <a href="http://www.sam4s.co.kr/files/DOWN/2019012393432_1.pdf">대충 이렇게 생겼다.</a></p>
<p>어떤 특정한 포맷으로 문자열 형태를 만들어서 데이터를 보내주면 되는데, 이 과정이 상당히 고통스럽다. 예를들어 "Hello World" 문자열을 출력해주고 싶다면 대략 4줄되는 커맨드 메소드를 보내야한다. 이러한 특정한 규칙을 "프린터 커맨드"라고 한다.</p>
<p>그런데 문제는, 프린터별로 대응되는 커맨드가 다르다. 이 시기는 각 프린터 제조사별로 정책을 정하던 시기라 통합이 되어있지 않기 떄문이다. 그래서, 이를 해결하려면 수많은 프린터에 대한 매핑 테이블을 작성해서 매칭을 해주어야 한다.</p>
<p>수많은 프린터 데이터를 모아서 지금 당장 매핑 테이블을 만드는 건 거의 불가능에 가깝다. 그렇기에 기존에 있는 라이브러리를 사용해야하는데, 이 라이브러리는 어찌되었건 윈도우 기반으로 동작하므로 DLL 파일을 만들어서 윈도우 어플리케이션에서 제공될 수 있도록 하면된다.</p>
<h2>소프트웨어 제작</h2>
<p>결국 윈도우 전용 소프트웨어를 개발해야한다. 해당 소프트웨어를 개발하기위해 여러가지 필수적인 사항을 체크해보자.</p>
<ol>
<li>윈도우 기반의 소프트웨어를 개발해야한다.</li>
<li>만들어져있는 웹 프로덕트를 활용할 수 있어야 한다.</li>
<li>빠른 시간 내 (2주일)로 개발해야한다.</li>
</ol>
<p>이러한 필수적인 사항을 적용하려면 일단, 크로미움 기반의 웹이 돌아갈 수 있도록 소프트웨어를 제작해야한다. 그래서 다음과 같은 프로세스를 생각했다.</p>
<br/>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 732px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 52.34375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABoUlEQVQoz4VSTW/iQAzNn+fEiT+wIPXEDSFAQggQIE5wWCiokYJWQAgNk+aLzkxICrzKbhNtq9XW0pM9GdvznmPDcRx4ngchBFzXZX88HtknSYLL5VIgTVPEcQRXeHBfIpDd8dWMLMvw3e73O34yKRV7euh8PkNKCa0TGPQhtyiKimbk85gKWq0WFosFbrcbM/WDEEQmCAKsVmtsNhsEQfTBkBIbjQba7TZGoxHW6zU3omIypRSq1SqGw2HByvdDpGmG0+nE9avVI07C+2BYLpdRKpVQr9dRq9VQqVS+yM9Z7fd7+L7/yVqy9/0AjvMM2z5AiBcYcRxjOp1yIhWQhH6/D9M0eQQkl0BxGIaM6/WK11f1z9lyw16vh+12C8uy+A83m01orZkdSZrNZlgul5jP5yyPxkSSSR2N48k08XvxiDCMYKRZhvF4jE6ng8FggG63i8lkUrxIjQ+HA2zbxm6343XKZ0hMd3sbzVYHv6oPsKw/MN7esv+uB91TYQ5iR8yl1EWOEB4/8Cn5DKUTKKULSKV5p3L8fZefaUW+7yzF73gh8Af/COr9AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="이미지2"
        title="이미지2"
        src="/static/af39fbb01bc81b48f84a13b00f25365a/d0cc0/2.png"
        srcset="/static/af39fbb01bc81b48f84a13b00f25365a/6f3f2/2.png 256w,
/static/af39fbb01bc81b48f84a13b00f25365a/01e7c/2.png 512w,
/static/af39fbb01bc81b48f84a13b00f25365a/d0cc0/2.png 732w"
        sizes="(max-width: 732px) 100vw, 732px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<center>(프린터가 출력되기까지의 어플리케이션 프로세스)</center>
<ol>
<li>윈도우 어플리케이션 위에 웹뷰가 전체 사이즈로 올려진다.</li>
<li>웹뷰에서 어드민이 제공되며, 어드민에서 영수증을 출력할 수 있는 버튼이 존재한다.</li>
<li>버튼을 클릭하면 서버에서 제공된 영수증을 그리기 위한 데이터(JSON)이 윈도우 어플리케이션으로 전달된다.</li>
<li>윈도우 어플리케이션에서 해당 데이터를 DLL 파일의 함수를 사용해서 프린터의 시리얼 포트 데이터 규격화하여 프린터 기계로 전달한다.</li>
</ol>
<p>간단하다. 현 시대의 하이브리드 앱처럼 동작한다.</p>
<h3>Delphi 기반의 DLL 개발</h3>
<p>여기서 짚고 넘어갈 부분은 <code>Delphi 기반의 smart pascal로 빌드된 DLL)</code>이다. 이 것을 사용한 이유는 다음과 같다.</p>
<ol>
<li>성능상의 이슈가 있으니, 네이티브 퍼포먼스가 훌륭한 언어와 환경을 사용해야한다.</li>
<li>프린터를 쉽게 핸들링하는 라이브러리가 존재해야한다.</li>
</ol>
<p>pascal은 최근 modern 화가 되면서, 객체지향을 사용할 수 있는 object pascal과, 현 시대에 맞게 똑똑해진 smart pascal 등 다양한 진화가 이루어졌다. 또한 pascal을 사용하는 Delphi에는 printer 라이브러리가 존재한다. 그렇기에 두 가지 경우에 매우 적합하다.</p>
<p>가장 큰 장점은 배민 내에 파스칼 개발자가 존재하여, 이미 파스칼 기반으로 프린터 양식으로 데이터를 보내는 라이브러리가 존재하기 떄문이다. 관련 서포트를 받으면 작업 일정을 굉장히 축약할 수 있다. 그렇기 떄문에 pascal을 선택하여 개발하게 되었다.</p>
<h3>윈도우 어플리케이션</h3>
<p>윈도우 어플리케이션은 C#과 닷넷 프레임워크 기반으로 개발을 진행한다. 그 이유는 다음과 같다.</p>
<ol>
<li>닷넷 프레임워크는 폭넓은 버전을 가지고 있으며, 해당 버전으로 하여금 OS에 맞는 빌드를 뽑아낼 수 있다.</li>
<li>C#은 전통적으로 윈도우 어플리케이션에 많이 쓰이던 언어이고, 지금도 그렇다.</li>
<li>C/C++과 같은 거의 저레벨 수준의 언어, 메모리 등을 관리하는 수준까지 내려가면 피곤해진다.</li>
</ol>
<p>적정한 수준이 C#이라고 판단되었고, 닷넷 프레임워크는 윈도우 운영체제를 쉽게 핸들링 할 수 있는 다양한 문법을 제공한다.</p>
<h4>버전</h4>
<p>이제 버전을 맞춰보자. 닷넷 프레임워크의 버전에 따라 OS를 제공할 수 있을 것이다. <a href="https://techcommunity.microsoft.com/t5/windows-embedded-blog/microsoft-net-framework-versions-supported-by-windows-embedded/ba-p/286129">버전 참조하기</a></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 558px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 67.578125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABRElEQVQ4y4WTCYqFQAxEvf8xRXH57vue4TWUtPJnpiEk0U5ZlcTgPE/7z7Zts7Ztreu6hx+G4XHvOA4L7I9zXZfzy7JYFEUWx7GFYWhJkrg8z/PHfUADFX4znX3frWkaxxQWeGyaJpvn2cZxvOMAVIp970uQZIrwsF3X1RVjPCPHiIMsy6woCmdpmho5UmRiBDCHQn1cMqXSSUZK3/d3ozGekWMwAhDZFAFILPa+d0Op6/oGqarKyGWfz8f1BoA34Lst95QpFDsBiakvU4AU4WFOzDt57jhA2AEAQ2KBionPyn+m/j4AkQVQWZZuCAxHA0GuGFLEkYehNsBnGlDESzzGerAO6h3yVOQzlPd382YIO0wrJLZ89VsPNQAN6SEZAHqGbIEzJDxMfckC/E2yA+QHRybGPpIDhOfSW7L/9xBrJ5X/AO8zRBMofFfKAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="이미지3"
        title="이미지3"
        src="/static/b5969dbe28db7bff143482e02a27a8e2/42a8d/3.png"
        srcset="/static/b5969dbe28db7bff143482e02a27a8e2/6f3f2/3.png 256w,
/static/b5969dbe28db7bff143482e02a27a8e2/01e7c/3.png 512w,
/static/b5969dbe28db7bff143482e02a27a8e2/42a8d/3.png 558w"
        sizes="(max-width: 558px) 100vw, 558px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p>3.5는 SP1이기 때문에, XP의 SP1, 2, 3 등을 전부 제공한다. 그렇기 때문에 3.5를 사용하는게 베스트로 보인다. 그런데 여기서 문제는 우리는 크로미움을 사용해야 한다는 점이다. 크로미움을 윈도우 어플리케이션에 올리기 위해서는 <a href="https://ko.wikipedia.org/wiki/%ED%81%AC%EB%A1%9C%EB%AF%B8%EC%97%84_%EC%9E%84%EB%B2%A0%EB%94%94%EB%93%9C_%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC">CEF (Chromium Embedded Framework)</a>라는 것을 사용해야한다.</p>
<p>크로미움 임베디드 프레임워크는 C++로 개발되었으며, 다양한 OS에서 동작하는 크로미움 기반의 응용 프로그램을 만들 수 있다. C#에도 이 CEF를 래핑한 라이브러리가 존재하는데, 바로 <a href="https://cefsharp.github.io/">CefSharp</a> 이라는 친구이다. 이 CefSharp은 특정 버전 이상의 닷넷 프레임워크에서 동작한다.</p>
<p>최소 4.0 이상에서 동작하는데, 이렇게 되면 문제가 생긴다. 모든 버전을 호환하는 닷넷 프레임워크는 3.5이기 때문이다. 그렇다면 우리는 닷넷 버전 4.0과 4.5.2, 4.6 세 가지 빌드를 준비해야한다.</p>
<ul>
<li>POSReady 2009: 4.0</li>
<li>POSReady 7: 4.5.2</li>
<li>Embedded 8.1 Industry: 4.6</li>
</ul>
<p>소스는 한 개만 존재하도록 4.0 문법으로 작성하되, 각각의 버전별로 빌드를 진행해야한다. 마이크로소프트는 이러한 버전별 빌드를 잘 제공하며, 쉽게 쉬프트할 수 있도록 제공한다.
그래서 이러한 빌드는 어렵지 않다.</p>
<h2>결과</h2>
<iframe src="https://drive.google.com/file/d/1mK2bCn8EX6qPzmZZx3OKBmSSrIM7W7me/preview" width="100%" height="480px" allow="autoplay"></iframe>
<center>실행 영상</center>
<ul>
<li>좌측의 윈도우 어플리케이션: 어드민이 출력된다.</li>
<li>오른쪽 상단의 어플리케이션: 가상 시리얼 포트를 생성한 시리얼 포트 테스터이다.</li>
<li>오른쪽 하단은 COM 포트간 연결을 도와주는 소프트웨어이다.</li>
</ul>
<h2>끝으로</h2>
<p>윈도우 어플리케이션에 웹뷰를 생성하고 웹뷰에 어드민을 띄운 후, 영수증을 출력 시 윈도우 어플리케이션에서 데이터를 가공하고 프린터 기기로 전달한다. 언뜻보면 문제는 해결한 것 같지만 여전히 문제는 존재한다.</p>
<p>앞으로 서비스 운영에서 C# 기반의 윈도우 어플리케이션이 존재하는 만큼 해당 언어에 대한 디펜던시는 존재할 수 밖에 없고 운영 인력이 필요해진다. 이게 과연 좋은 구조인지 다시 생각해봐야 한다.</p>
<p>그렇기 때문에 모든 웹 개발자가 윈도우 어플리케이션을 개발할 수 있는 모종의 방법을 찾아야 하며, 찾기위해 재 설계를 진행해야한다.</p>
<p>다음 글은 이를 찾기위한 여정을 이야기할 것이다.</p>
<h2>Reference</h2>
<ul>
<li><a href="https://windows-internals.com/printdemon-cve-2020-1048/">PrintDemon: Print Spooler Privilege Escalation, Persistence &#x26; Stealth (CVE-2020-1048 &#x26; more)</a></li>
</ul>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
</style></section></div><section id="comments"></section><style data-emotion="css 1ylimja">.css-1ylimja{max-width:900px;width:100%;margin:4rem auto;box-sizing:border-box;padding:2rem 2rem;border-top:1px solid #EAEAEA;}.css-1ylimja>p{margin-bottom:1.5rem;font-size:1.8rem;color:#000;}.css-1ylimja>a{border:none!important;outline:none!important;-webkit-transition:none!important;transition:none!important;background:none!important;}.css-1ylimja>a:hover{background:none!important;border-color:none!important;}</style><div class="css-1ylimja e1rut9220"><style data-emotion="css toutqs">.css-toutqs{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:50px;height:50px;}</style><div size="50" class="css-toutqs e1rntlic1"><style data-emotion="css 1rrjf5z animation-8013mu">.css-1rrjf5z{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-1.2s;animation-delay:-1.2s;-webkit-transform:rotate(0deg) translate(146%);-moz-transform:rotate(0deg) translate(146%);-ms-transform:rotate(0deg) translate(146%);transform:rotate(0deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-1rrjf5z e1rntlic0"></div><style data-emotion="css rcjasa animation-8013mu">.css-rcjasa{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-1.0999999999999999s;animation-delay:-1.0999999999999999s;-webkit-transform:rotate(30deg) translate(146%);-moz-transform:rotate(30deg) translate(146%);-ms-transform:rotate(30deg) translate(146%);transform:rotate(30deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-rcjasa e1rntlic0"></div><style data-emotion="css 1gsjy2j animation-8013mu">.css-1gsjy2j{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-1s;animation-delay:-1s;-webkit-transform:rotate(60deg) translate(146%);-moz-transform:rotate(60deg) translate(146%);-ms-transform:rotate(60deg) translate(146%);transform:rotate(60deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-1gsjy2j e1rntlic0"></div><style data-emotion="css vgd4ml animation-8013mu">.css-vgd4ml{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.8999999999999999s;animation-delay:-0.8999999999999999s;-webkit-transform:rotate(90deg) translate(146%);-moz-transform:rotate(90deg) translate(146%);-ms-transform:rotate(90deg) translate(146%);transform:rotate(90deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-vgd4ml e1rntlic0"></div><style data-emotion="css nlaijy animation-8013mu">.css-nlaijy{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.7999999999999999s;animation-delay:-0.7999999999999999s;-webkit-transform:rotate(120deg) translate(146%);-moz-transform:rotate(120deg) translate(146%);-ms-transform:rotate(120deg) translate(146%);transform:rotate(120deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-nlaijy e1rntlic0"></div><style data-emotion="css ljpo5z animation-8013mu">.css-ljpo5z{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.7s;animation-delay:-0.7s;-webkit-transform:rotate(150deg) translate(146%);-moz-transform:rotate(150deg) translate(146%);-ms-transform:rotate(150deg) translate(146%);transform:rotate(150deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-ljpo5z e1rntlic0"></div><style data-emotion="css 1lesjdn animation-8013mu">.css-1lesjdn{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.5999999999999999s;animation-delay:-0.5999999999999999s;-webkit-transform:rotate(180deg) translate(146%);-moz-transform:rotate(180deg) translate(146%);-ms-transform:rotate(180deg) translate(146%);transform:rotate(180deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-1lesjdn e1rntlic0"></div><style data-emotion="css s8balg animation-8013mu">.css-s8balg{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.4999999999999999s;animation-delay:-0.4999999999999999s;-webkit-transform:rotate(210deg) translate(146%);-moz-transform:rotate(210deg) translate(146%);-ms-transform:rotate(210deg) translate(146%);transform:rotate(210deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-s8balg e1rntlic0"></div><style data-emotion="css q46j30 animation-8013mu">.css-q46j30{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.3999999999999999s;animation-delay:-0.3999999999999999s;-webkit-transform:rotate(240deg) translate(146%);-moz-transform:rotate(240deg) translate(146%);-ms-transform:rotate(240deg) translate(146%);transform:rotate(240deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-q46j30 e1rntlic0"></div><style data-emotion="css vl20np animation-8013mu">.css-vl20np{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.29999999999999993s;animation-delay:-0.29999999999999993s;-webkit-transform:rotate(270deg) translate(146%);-moz-transform:rotate(270deg) translate(146%);-ms-transform:rotate(270deg) translate(146%);transform:rotate(270deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-vl20np e1rntlic0"></div><style data-emotion="css 1qbghc9 animation-8013mu">.css-1qbghc9{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.19999999999999996s;animation-delay:-0.19999999999999996s;-webkit-transform:rotate(300deg) translate(146%);-moz-transform:rotate(300deg) translate(146%);-ms-transform:rotate(300deg) translate(146%);transform:rotate(300deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-1qbghc9 e1rntlic0"></div><style data-emotion="css q9vvjz animation-8013mu">.css-q9vvjz{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.09999999999999987s;animation-delay:-0.09999999999999987s;-webkit-transform:rotate(330deg) translate(146%);-moz-transform:rotate(330deg) translate(146%);-ms-transform:rotate(330deg) translate(146%);transform:rotate(330deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-q9vvjz e1rntlic0"></div></div><div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div></div><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-143764638-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-143764638-1', 'vallista.kr', {"sampleRate":5,"siteSpeedSampleRate":10});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/첩첩산중,-POS-시스템을-대응하자/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-7b05682e3655fba37948.js"],"app":["/app-f74c10ffeaf51e506f72.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-761f28f8d0a06f05d514.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-e8391416951b95d40762.js"],"component---src-pages-posts-tsx":["/component---src-pages-posts-tsx-6953e764eed1a41f2df2.js"],"component---src-pages-resume-tsx":["/component---src-pages-resume-tsx-00275f365bf708998046.js"],"component---src-template-post-tsx":["/component---src-template-post-tsx-22fa0b4deff6f744ec06.js"]};/*]]>*/</script><script src="/polyfill-7b05682e3655fba37948.js" nomodule=""></script><script src="/component---src-template-post-tsx-22fa0b4deff6f744ec06.js" async=""></script><script src="/386142cf738b86b246078cd67abf8098b07f27c7-18c18209468ec8dd2984.js" async=""></script><script src="/app-f74c10ffeaf51e506f72.js" async=""></script><script src="/16afea63-28513c436d059db07a3a.js" async=""></script><script src="/48aa8186-302503e69f848bbcb586.js" async=""></script><script src="/1593e758-162c8a90d05f592909c3.js" async=""></script><script src="/cc76255b-7b4330c213863cc40f50.js" async=""></script><script src="/d0007318-6fea1740cd50d7507975.js" async=""></script><script src="/2425c7c2-41dc7859d63d90c0bae4.js" async=""></script><script src="/aec3edcd-91ec9f6e91025082e94d.js" async=""></script><script src="/3e15977f-1b62bb6ff473b1df1dc9.js" async=""></script><script src="/f3fee096-5247f87e275039b88366.js" async=""></script><script src="/63a121f2-20e4a7632ad718d1b6df.js" async=""></script><script src="/b633362c-62058092fb5c3e8a52eb.js" async=""></script><script src="/framework-96f35882fb1b7fa32ef9.js" async=""></script><script src="/webpack-runtime-3d3db5e0a829ff7ce92f.js" async=""></script></body></html>