{"version":3,"file":"b3257612-8842d73f5c1420b351e6.js","mappings":"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","sources":["webpack://@vallista/blog/../../../src/components/Collapse/index.tsx"],"sourcesContent":["import { css } from '@emotion/react'\nimport styled from '@emotion/styled'\nimport { Children, FC, useEffect, useMemo, useRef, useState } from 'react'\n\nimport { createContext } from '../../utils/createContext'\nimport { CollapseProps, CollapseSizeType } from './type'\nimport { useCollapse } from './useCollapse'\n\n/**\n * # Collapse\n * \n * 데이터를 폴딩하고 보여주는데 최적화된 컴포넌트 입니다.\n * \n * @props {CollapseProps} {@link CollapseProps} 기본적인 인자\n * \n * @example ```tsx\n * <Collapse title='Question A'>\n    <Text>\n      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore\n      magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\n      consequat.\n    </Text>\n  </Collapse>\n * ```\n */\nexport const Collapse: FC<Partial<CollapseProps>> = (props) => {\n  const { title, subtitle, fold, expanded, size, card, children } = useCollapse(props)\n  const contentRef = useRef<HTMLDivElement>(null)\n  const [contentHeight, setContentHeight] = useState(0)\n\n  useEffect(() => {\n    if (!contentRef.current) return\n\n    setContentHeight(contentRef.current.clientHeight)\n  }, [contentRef])\n\n  const contentsOptions = contentRef.current ? { height: expanded ? `${contentHeight / 16}rem` : 0 } : {}\n\n  return (\n    <Container card={card}>\n      <Header size={size}>\n        <Button onClick={fold} expanded={expanded}>\n          <HeaderContents size={size}>\n            {title}\n            <Arrow expanded={expanded}>\n              <svg\n                viewBox='0 0 24 24'\n                width='24'\n                height='24'\n                stroke='currentColor'\n                strokeWidth='1.5'\n                strokeLinecap='round'\n                strokeLinejoin='round'\n                fill='none'\n                shapeRendering='geometricPrecision'\n              >\n                <path d='M18 15l-6-6-6 6' />\n              </svg>\n            </Arrow>\n          </HeaderContents>\n        </Button>\n        {subtitle && <SubTitle>{subtitle}</SubTitle>}\n      </Header>\n      <Contents ref={contentRef} style={contentsOptions}>\n        <div>{children}</div>\n      </Contents>\n    </Container>\n  )\n}\n\nconst [CollapseContext, useContext] = createContext<{\n  expandedTarget: string | null\n  setExpandedTarget: (key: string) => void\n}>()\n\nexport const useCollapseContext = useContext\n\n/**\n * # CollapseGroup\n * \n * Collapse를 공유하는 그룹입니다.\n * \n * @example ```tsx\n * \n  <CollapseGroup>\n    <Collapse title='Question A'>\n      <Text>\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et\n        dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex\n        ea commodo consequat.\n      </Text>\n    </Collapse>\n\n    <Collapse title='Question B'>\n      <Text>\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et\n        dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex\n        ea commodo consequat.\n      </Text>\n    </Collapse>\n  </CollapseGroup>\n * ```\n */\nexport const CollapseGroup: FC<{ children: React.ReactNode }> = ({ children }) => {\n  const collapses = useMemo(() => {\n    const result: { key: string; expanded: boolean }[] = []\n    Children.forEach(children, (c) => {\n      if (!!c && typeof c === 'object' && 'props' in c) {\n        result.push({ key: c.props?.title, expanded: c.props?.defaultExpanded || true })\n      }\n    })\n\n    return result\n  }, [children])\n\n  const [expandedTarget, setExpandedTarget] = useState(() => {\n    return collapses.find((it) => (it.expanded ? it.key : null))?.key || null\n  })\n\n  return (\n    <CollapseContext state={{ expandedTarget, setExpandedTarget }}>\n      <CollapsesWrapper>{children}</CollapsesWrapper>\n    </CollapseContext>\n  )\n}\n\nconst CollapsesWrapper = styled.div`\n  & > div:not(:last-of-type) {\n    border-bottom: none;\n  }\n`\n\nconst Container = styled.div<{ card?: boolean }>`\n  text-align: left;\n  ${({ theme, card }) => css`\n    border-top: 1px solid ${theme.colors.PRIMARY.ACCENT_2};\n    border-bottom: 1px solid ${theme.colors.PRIMARY.ACCENT_2};\n\n    ${card &&\n    css`\n      padding: 1.5rem;\n      box-shadow: ${theme.shadows.SMALL};\n      border-radius: 5px;\n      border: none;\n    `}\n  `}\n`\n\nconst Header = styled.h3<{ size?: CollapseSizeType }>`\n  ${({ size }) =>\n    size === 'small'\n      ? css`\n          font-size: 1rem;\n          font-weight: 500;\n        `\n      : css`\n          font-weight: 600;\n          font-size: 1.25rem;\n        `}\n  hyphens: auto;\n  margin-top: 0;\n  margin-bottom: 0;\n`\n\nconst SubTitle = styled.span`\n  font-size: 0.75rem;\n  font-weight: 400;\n  letter-spacing: normal;\n  margin-bottom: 0;\n  display: block;\n  ${({ theme }) => css`\n    color: ${theme.colors.PRIMARY.ACCENT_5};\n  `}\n`\n\nconst Button = styled.button<{ expanded: boolean }>`\n  width: 100%;\n  margin-bottom: 0;\n  margin-top: 0;\n\n  border: unset;\n  background: unset;\n  padding: unset;\n  margin: unset;\n  font: unset;\n  text-align: unset;\n  appearance: unset;\n`\n\nconst HeaderContents = styled.span<{ size?: CollapseSizeType }>`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  cursor: pointer;\n  vertical-align: baseline;\n\n  ${({ size }) =>\n    size === 'small'\n      ? css`\n          padding: 0.75rem 0;\n        `\n      : css`\n          padding: 1.5rem 0;\n        `}\n\n  ${({ theme }) =>\n    css`\n      color: ${theme.colors.PRIMARY.FOREGROUND};\n    `};\n`\n\nconst Arrow = styled.span<{ expanded: boolean }>`\n  transition: transform 0.2s ease;\n  ${({ expanded }) =>\n    expanded &&\n    css`\n      transform: rotate(180deg);\n    `}\n`\n\nconst Contents = styled.div`\n  font-size: 1rem;\n  line-height: 26px;\n  overflow-y: hidden;\n  will-change: height;\n  transition: height 0.2s ease;\n\n  & > div {\n    margin: 1rem 0;\n  }\n`\n"],"names":["M","I","title","A","subtitle","Z","fold","B","expanded","b","size","g","card","X","children","u","n","l","m","x","i","W","Y","current","clientHeight","N","height","V","p","y","C","t","onClick","D","o","viewBox","width","stroke","strokeWidth","strokeLinecap","strokeLinejoin","fill","shapeRendering","d","z","k","ref","style","h","J","v","T","G","target","_ref2","theme","colors","PRIMARY","ACCENT_2","shadows","SMALL","s","name","styles","a","_ref3","_ref4","ACCENT_5","e","Q","_ref5","_ref6","FOREGROUND","w","_ref7"],"sourceRoot":""}