<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/gitment.css">
    
    

    <title>효율적인 Storybook 컴포넌트 구조 만들기 - Today I Learned</title>

     
        <meta name="keywords" content="Tech">
    

    <meta name="description" content="최근 Storybook을 활용한 디자인 시스템 개발을 많은 회사에서 진행하고 있습니다. 디자인 시스템을 구축하면서 수많은 컴포넌트가 생성되고 사라지고를 반복하는데 이러한 컴포넌트 관리를 위해 Atomic Design을 많은 회사에서 채택하고 있는 듯 보입니다. 여기서 Atomic Design을 채택한다는 것은 컴포넌트를 재사용할 수 있는 단위로 나눈다 라">
<meta name="keywords" content="Tech">
<meta property="og:type" content="article">
<meta property="og:title" content="효율적인 Storybook 컴포넌트 구조 만들기">
<meta property="og:url" content="https://vallista.kr/2020/04/26/효율적인-Storybook-컴포넌트-구조-만들기/index.html">
<meta property="og:site_name" content="Today I Learned">
<meta property="og:description" content="최근 Storybook을 활용한 디자인 시스템 개발을 많은 회사에서 진행하고 있습니다. 디자인 시스템을 구축하면서 수많은 컴포넌트가 생성되고 사라지고를 반복하는데 이러한 컴포넌트 관리를 위해 Atomic Design을 많은 회사에서 채택하고 있는 듯 보입니다. 여기서 Atomic Design을 채택한다는 것은 컴포넌트를 재사용할 수 있는 단위로 나눈다 라">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://vallista.kr/2020/04/26/효율적인-Storybook-컴포넌트-구조-만들기/0.jpg">
<meta property="og:image" content="https://vallista.kr/2020/04/26/효율적인-Storybook-컴포넌트-구조-만들기/1.png">
<meta property="og:image" content="https://vallista.kr/2020/04/26/효율적인-Storybook-컴포넌트-구조-만들기/2.png">
<meta property="og:image" content="https://vallista.kr/2020/04/26/효율적인-Storybook-컴포넌트-구조-만들기/3.png">
<meta property="og:image" content="https://vallista.kr/2020/04/26/효율적인-Storybook-컴포넌트-구조-만들기/5.png">
<meta property="og:image" content="https://vallista.kr/2020/04/26/효율적인-Storybook-컴포넌트-구조-만들기/4.png">
<meta property="og:image" content="https://vallista.kr/2020/04/26/효율적인-Storybook-컴포넌트-구조-만들기/6.png">
<meta property="og:image" content="https://vallista.kr/2020/04/26/효율적인-Storybook-컴포넌트-구조-만들기/7.png">
<meta property="og:image" content="https://vallista.kr/2020/04/26/효율적인-Storybook-컴포넌트-구조-만들기/8.png">
<meta property="og:image" content="https://vallista.kr/2020/04/26/효율적인-Storybook-컴포넌트-구조-만들기/9.png">
<meta property="og:updated_time" content="2020-06-04T05:27:53.052Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="효율적인 Storybook 컴포넌트 구조 만들기">
<meta name="twitter:description" content="최근 Storybook을 활용한 디자인 시스템 개발을 많은 회사에서 진행하고 있습니다. 디자인 시스템을 구축하면서 수많은 컴포넌트가 생성되고 사라지고를 반복하는데 이러한 컴포넌트 관리를 위해 Atomic Design을 많은 회사에서 채택하고 있는 듯 보입니다. 여기서 Atomic Design을 채택한다는 것은 컴포넌트를 재사용할 수 있는 단위로 나눈다 라">
<meta name="twitter:image" content="https://vallista.kr/2020/04/26/효율적인-Storybook-컴포넌트-구조-만들기/0.jpg">
    
    <link rel="canonical" href="https://vallista.kr/2020/04/26/효율적인-storybook-컴포넌트-구조-만들기/">
    
    <meta name="naver-site-verification" content="981dd449900e4abd0f5aa265ce6849776b41a9c2">
    <meta name="google-site-verification" content="wPI09aIL9InuxJwKlMkLE-4mzzfbNhQqRCJ760C-8nQ">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="57x57" href="/css/images/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/css/images/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/css/images/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/css/images/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/css/images/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/css/images/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/css/images/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/css/images/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/css/images/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/css/images/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/css/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/css/images/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/css/images/favicon-16x16.png">
    <link rel="manifest" href="/css/images/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/css/images/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143764638-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', "UA-143764638-1");
    </script>


    <link href="//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSans-kr.css" rel="stylesheet" type="text/css">
    <link href="//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSans-jp.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="/css/prism-darcula.css" type="text/css"></head>
<body>
<header class="header">
    <div class="header-inner">
        <div class="header-title">

        </div>
        <nav class="header-nav">
            
            <a href="/" class="header-nav-link" >
                홈
            </a>
            

            
            <a href="/archives" class="header-nav-link">
                포스트
            </a>
            

            <a href="/resume" class="header-nav-link">
                이력서
            </a>
        </nav>
    </div>
</header>
<header class="mobile-header">
    <div class="mobile-nav">
        <div class="mobile-nav-icon">
            <span></span>
            <span></span>
            <span></span>
        </div>

    </div>
    <nav class="mobile-menu">
        <ul class="mobile-menu-list">
            <li class="mobile-menu-item">
                <i class="iconfont icon-home"></i>
                <a href="/" class="mobile-nav-link">홈</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-archive"></i>
                <a href="/archives" class="mobile-nav-link">포스트</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-archive"></i>
                <a href="/resume" class="mobile-nav-link">이력서</a>
            </li>
        </ul>
    </nav>
</header>
<div class="main">
    <div class="content-inner">
        <div class="post">
    <article class="post-whole">
        <div class="post-title">
            <h2 class="title">효율적인 Storybook 컴포넌트 구조 만들기</h2>
            <div class="post-meta">
                <span class="post-time">2020-04-26</span>
                
                <span class="post-visit"> 방문：<span id="busuanzi_value_page_pv"></span></span>
            </div>
        </div>
        <div class="post-toc" id="post-toc">
    <strong class="post-toc-title">목차</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#스토리북"><span class="toc-text">스토리북</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#스토리북이란"><span class="toc-text">스토리북이란?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#사용하기"><span class="toc-text">사용하기</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Component-Story-Format-CSF"><span class="toc-text">Component Story Format (CSF)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#컴포넌트-관리"><span class="toc-text">컴포넌트 관리</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#분리하기"><span class="toc-text">분리하기</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#내장-컴포넌트"><span class="toc-text">내장 컴포넌트</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#외장-컴포넌트"><span class="toc-text">외장 컴포넌트</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#결과"><span class="toc-text">결과</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#심화"><span class="toc-text">심화</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Libraries"><span class="toc-text">Libraries</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#결과-1"><span class="toc-text">결과</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#정리"><span class="toc-text">정리</span></a></li></ol>
    <div class="back-to-top" id="back-to-top">
        <a href="javascript:void(0);">처음으로</a>
    </div>
</div>
        <div class="post-content">
            <p><img src="0.jpg" alt="이미지0"></p>
<p>최근 Storybook을 활용한 디자인 시스템 개발을 많은 회사에서 진행하고 있습니다. 디자인 시스템을 구축하면서 수많은 컴포넌트가 생성되고 사라지고를 반복하는데 이러한 컴포넌트 관리를 위해 <code>Atomic Design</code>을 많은 회사에서 채택하고 있는 듯 보입니다.</p>
<p>여기서 <code>Atomic Design</code>을 채택한다는 것은 <code>컴포넌트를 재사용할 수 있는 단위로 나눈다</code> 라는 것 입니다. <a href="https://vallista.kr/2020/03/29/Component-%EB%B6%84%EB%A6%AC%EC%9D%98-%EB%AF%B8%ED%95%99/">이전 글</a>에서도 언급했지만, 컴포넌트를 분리한다는 것은 그저 보기좋게 변경을 하는게 아닙니다.</p>
<p>실용적이고 아름다운 스트럭쳐를 구현하는 것이 컴포넌트를 효율적으로 분리하는거라 볼 수 있고, <code>Atomic Design</code>을 사용해서 그저 컴포넌트의 크기로 무분별하게 <code>Atomic하게</code> 나눈 것은 올바른 사용방법이 아니라고 생각합니다.</p>
<p>중요한 포인트는 <code>Atomic Design 재사용될 수 있는 레이아웃 컴포넌트를 나누는 기준</code> 입니다. 이번 글에서는 <code>Atomic Design</code>에 집중해서 구현하기보다, 더 효율저으로 구현할 수 있는 방법에 대해서 나름대로 찾은 컴포넌트 구조를 설명합니다.</p>
<br>

<blockquote>
<p>디자인 시스템이란?<br>_<br>[<a href="https://story.pxd.co.kr/1434]" target="_blank" rel="noopener">https://story.pxd.co.kr/1434]</a>(디자인 시스템) 포스트를 보면 더 도움이 될 수 있습니다.<br>“쉽게 말하면 디자인 시스템은 디자인 원칙, 규격, 다시 사용할 수 있는 UI 패턴과 컴포넌트, 코드를 포괄하는 종합 세트입니다.”</p>
</blockquote>
<h2 id="스토리북"><a href="#스토리북" class="headerlink" title="스토리북"></a>스토리북</h2><p><img src="1.png" alt="이미지1"></p>
<p>(예시 이미지: 스토리북으로 디자인 시스템을 구현중인 화면)</p>
<p>예시 링크: <a href="https://github.com/Vallista/DesignSystem" target="_blank" rel="noopener">https://github.com/Vallista/DesignSystem</a></p>
<h3 id="스토리북이란"><a href="#스토리북이란" class="headerlink" title="스토리북이란?"></a>스토리북이란?</h3><p>스토리북(Storybook)은 UI를 개발하고 플레이그라운드에서 테스트를 해볼 수 있는 UI Component 개발을 위한 툴 입니다. 테스팅, 프리뷰와 같은 기능을 사용할 수 있으며, 카테고리별로 컴포넌트를 열람할 수 있기 때문에 최근 디자인 시스템을 구축하는데 편리해 많이 사용되고 있습니다</p>
<h3 id="사용하기"><a href="#사용하기" class="headerlink" title="사용하기"></a>사용하기</h3><p><a href="https://github.com/Vallista/DesignSystem#issue" target="_blank" rel="noopener">Create React App에서 Storybook 추가하는 방법</a>을 참고하시면 쉬운 환경설정을 하실 수 있습니다.</p>
<p>Storybook은 <a href="https://github.com/Vallista/DesignSystem/blob/master/src/products/Blog/Card/index.stories.tsx" target="_blank" rel="noopener">Stories 파일</a>에 작업을 해서 Storybook에서 보일 수 있게 설정할 수 있으며 링크를 달아놓은 Stories 파일을 클릭해 들어가보시면, 아래와 같은 코드가 나오게 됩니다.</p>
<p><strong>Card/index.stories.tsx</strong></p>
<pre class=" language-jsx"><code class="language-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> withKnobs<span class="token punctuation">,</span> text<span class="token punctuation">,</span> number <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@storybook/addon-knobs'</span>

<span class="token keyword">import</span> Card<span class="token punctuation">,</span> <span class="token punctuation">{</span> ITheme <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./index'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ColorPalette <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../../models/color'</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Background <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../_common'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  title<span class="token punctuation">:</span> <span class="token string">'Card'</span><span class="token punctuation">,</span>
  component<span class="token punctuation">:</span> Card
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> Default <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'타이틀'</span><span class="token punctuation">,</span> <span class="token string">'컴포넌트 관리 기법'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> description <span class="token operator">=</span> <span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'설명'</span><span class="token punctuation">,</span> <span class="token string">'안녕하세요 오늘은 컴포넌트 관리에 대해서 알아볼 것이에요'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'이미지'</span><span class="token punctuation">,</span> <span class="token string">'http://img.lifestyler.co.kr/uploads/program/1/1765/menu/2/html/f131755988183457049(0).jpg'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> viewCount <span class="token operator">=</span> <span class="token function">number</span><span class="token punctuation">(</span><span class="token string">'열람 수'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Background</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Card</span> <span class="token attr-name">title</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span></span> <span class="token attr-name">description</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>description<span class="token punctuation">}</span></span> <span class="token attr-name">image</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>image<span class="token punctuation">}</span></span> <span class="token attr-name">viewCount</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>viewCount<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Background</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> White <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> theme<span class="token punctuation">:</span> ITheme <span class="token operator">=</span> <span class="token punctuation">{</span>
    backgroundColor<span class="token punctuation">:</span> ColorPalette<span class="token punctuation">.</span>White<span class="token punctuation">.</span>WHITE<span class="token punctuation">,</span>
    textColor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      title<span class="token punctuation">:</span> ColorPalette<span class="token punctuation">.</span>Black<span class="token punctuation">.</span>LIGHT<span class="token punctuation">,</span>
      description<span class="token punctuation">:</span> ColorPalette<span class="token punctuation">.</span>Gray<span class="token punctuation">.</span>DARK<span class="token punctuation">,</span>
      viewCount<span class="token punctuation">:</span> ColorPalette<span class="token punctuation">.</span>Black<span class="token punctuation">.</span>LIGHT
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'타이틀'</span><span class="token punctuation">,</span> <span class="token string">'컴포넌트 관리 기법'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> description <span class="token operator">=</span> <span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'설명'</span><span class="token punctuation">,</span> <span class="token string">'안녕하세요 오늘은 컴포넌트 관리에 대해서 알아볼 것이에요'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'이미지'</span><span class="token punctuation">,</span> <span class="token string">'http://img.lifestyler.co.kr/uploads/program/1/1765/menu/2/html/f131755988183457049(0).jpg'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> viewCount <span class="token operator">=</span> <span class="token function">number</span><span class="token punctuation">(</span><span class="token string">'열람 수'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Background</span> <span class="token attr-name">background</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>ColorPalette<span class="token punctuation">.</span>Gradient<span class="token punctuation">.</span>RED_TO_YELLOW<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Card</span> <span class="token attr-name">title</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span></span> <span class="token attr-name">description</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>description<span class="token punctuation">}</span></span> <span class="token attr-name">image</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>image<span class="token punctuation">}</span></span> <span class="token attr-name">viewCount</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>viewCount<span class="token punctuation">}</span></span> <span class="token attr-name">theme</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>theme<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Background</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

Default<span class="token punctuation">.</span>story <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Default'</span><span class="token punctuation">,</span>
  decorators<span class="token punctuation">:</span> <span class="token punctuation">[</span> withKnobs <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

White<span class="token punctuation">.</span>story <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'White'</span><span class="token punctuation">,</span>
  decorators<span class="token punctuation">:</span> <span class="token punctuation">[</span> withKnobs <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre>
<p>이렇게 코드를 작성하면 아래와 같은 이미지로 스토리북에서 출력됩니다.</p>
<p><img src="2.png" alt="이미지2"></p>
<h3 id="Component-Story-Format-CSF"><a href="#Component-Story-Format-CSF" class="headerlink" title="Component Story Format (CSF)"></a>Component Story Format (CSF)</h3><p>위 스토리북 코드는 기존 스토리북을 사용하셨던 분이라면, 익숙하지 않을 소스일텐데요. 최근 스토리북 5.2 버전 이상에서는 <a href="https://storybook.js.org/docs/formats/component-story-format/" target="_blank" rel="noopener">Component Story Format (CSF)</a> 형식으로 stories를 작성하도록 권장하고 있습니다.</p>
<p><strong>기존 스토리북 사용법</strong></p>
<pre class=" language-jsx"><code class="language-jsx"><span class="token function">storiesOf</span><span class="token punctuation">(</span><span class="token string">'Button'</span><span class="token punctuation">,</span> module<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">addDecorator</span><span class="token punctuation">(</span>withKnobs<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">addParameters</span><span class="token punctuation">(</span><span class="token punctuation">{</span> notes<span class="token punctuation">:</span> someNotes <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><strong>변경된 스토리북 사용법</strong></p>
<pre class=" language-jsx"><code class="language-jsx"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  title<span class="token punctuation">:</span> <span class="token string">'Button'</span><span class="token punctuation">,</span>
  component<span class="token punctuation">:</span> module<span class="token punctuation">,</span>
  decorators<span class="token punctuation">:</span> <span class="token punctuation">[</span> withKnobs <span class="token punctuation">]</span><span class="token punctuation">,</span>
  parameters<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> notes<span class="token punctuation">:</span> someNotes <span class="token punctuation">}</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre>
<p>변경이 되면서 기존 스토리북을 사용하던때와 달리, JS 친화적으로 변경된 걸 볼 수 있습니다. 기존에 문제였었던, component 안에 인라인 ReactNode가 들어가거나 Decorator가 많아져서 행이 추가되는 문제점이 사라져 가독성이 좋아지는 효과를 얻을 수 있었습니다.</p>
<h2 id="컴포넌트-관리"><a href="#컴포넌트-관리" class="headerlink" title="컴포넌트 관리"></a>컴포넌트 관리</h2><p>Storybook을 사용해서 디자인 시스템을 구현하다보면 컴포넌트가 점점 많아져서 분리가 필요합니다. 이 분리라는 것은 컴포넌트를 물리적으로 분리하는 것도 있지만 가시적으로도 분리가 되어 보이도록 구현을 해야합니다.</p>
<h3 id="분리하기"><a href="#분리하기" class="headerlink" title="분리하기"></a>분리하기</h3><p><img src="3.png" alt="이미지3"></p>
<p>최초로 분리해야 하는 것은 <code>외장(external)</code> 컴포넌트와 <code>내장(internal)</code> 컴포넌트의 분리입니다.</p>
<p>위의 그림처럼 internal 컴포넌트는 internal component 내부에서 사용될 수 있으며, 그렇게 서로 사용되어 만들어진 컴포넌트를 external 컴포넌트에서 가져와 사용할 수 있습니다.</p>
<h4 id="내장-컴포넌트"><a href="#내장-컴포넌트" class="headerlink" title="내장 컴포넌트"></a>내장 컴포넌트</h4><p><img src="5.png" alt="이미지5"></p>
<p>내장 컴포넌트는 스토리북에서 보여지지 않지만, <strong>외장 컴포넌트에서 사용되는 재사용 가능한 레이아웃 컴포넌트 요소</strong>를 일컫습니다. 이 요소들은 레이아웃 단위로 재사용되기 때문에 <strong>Atomic Design</strong>을 사용하여 분리하면 효율적입니다.</p>
<p><strong><a href="https://github.com/Vallista/DesignSystem/blob/master/src/components/molecules/Block/index.tsx" target="_blank" rel="noopener">component/molecules/Block/index.tsx</a></strong></p>
<pre class=" language-jsx"><code class="language-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> classNames <span class="token keyword">from</span> <span class="token string">'classnames'</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> IComponentProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'models/common'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> CalculateBox <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'utils'</span>

<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">'./style.module.scss'</span>

<span class="token keyword">export</span> <span class="token keyword">enum</span> Direction <span class="token punctuation">{</span>
  ROW <span class="token operator">=</span> <span class="token string">'row'</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">enum</span> Sort <span class="token punctuation">{</span>
  TOP_LEFT <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token keyword">extends</span> <span class="token class-name">IComponentProps</span> <span class="token punctuation">{</span>
  children<span class="token punctuation">:</span> React<span class="token punctuation">.</span>ReactNode
  direction<span class="token operator">?</span><span class="token punctuation">:</span> Direction
  sort<span class="token operator">?</span><span class="token punctuation">:</span> Sort
<span class="token punctuation">}</span>

<span class="token keyword">const</span> CalculateSort <span class="token operator">=</span> <span class="token punctuation">(</span>sort<span class="token punctuation">:</span> Sort<span class="token punctuation">)</span><span class="token punctuation">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> horizontalNumber <span class="token operator">=</span> sort <span class="token operator">%</span> <span class="token number">10</span>
  <span class="token operator">...</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span> horizontal<span class="token punctuation">,</span> vertical <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> Block<span class="token punctuation">:</span> React<span class="token punctuation">.</span>FC<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IProps</span><span class="token punctuation">></span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  children<span class="token punctuation">,</span>
  className<span class="token punctuation">,</span>
  direction <span class="token operator">=</span> Direction<span class="token punctuation">.</span>ROW<span class="token punctuation">,</span>
  sort <span class="token operator">=</span> Sort<span class="token punctuation">.</span>CENTER_CENTER<span class="token punctuation">,</span>
  margin <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  padding <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  style
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> classProps <span class="token operator">=</span> <span class="token function">classNames</span><span class="token punctuation">(</span>styles<span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">,</span> className<span class="token punctuation">)</span>
  <span class="token operator">...</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>classProps<span class="token punctuation">}</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>styleProps<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>
      <span class="token punctuation">{</span>children<span class="token punctuation">}</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Block</code></pre>
<p>위 코드는 레이아웃에 대한 정렬 및 위치 조정을 담당하는 Block 컴포넌트 입니다. 해당 컴포넌트는 외장 컴포넌트에서 배치를 효율적으로 하는데 도움을 줍니다</p>
<h4 id="외장-컴포넌트"><a href="#외장-컴포넌트" class="headerlink" title="외장 컴포넌트"></a>외장 컴포넌트</h4><p><img src="4.png" alt="이미지4"></p>
<p>외장 컴포넌트는 스토리북에서 보여지는 컴포넌트를 일컫습니다. 위의 사진에서 왼쪽의 Sidebar에 Libraries, Products로 분리가 되어있는걸 볼 수 있는데요. Libraries와 Products 분리는 조금 있다가 다루도록하고, 중요하게 봐야하는 점은 보여지는 컴포넌트들이 <strong>외장 컴포넌트</strong> 라는 것 입니다.</p>
<p>이 컴포넌트는 실제 프로덕트 레벨에서 사용되는 컴포넌트이며, 디자인 요소가 완성된 컴포넌트입니다. 추후에 rollup 등의 패키지 매니저들로 export 되어 사용됩니다.</p>
<p><strong><a href="https://github.com/Vallista/DesignSystem/blob/master/src/products/Blog/Card/index.tsx" target="_blank" rel="noopener">products/Card/index.tsx</a></strong></p>
<pre class=" language-jsx"><code class="language-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> classNames <span class="token keyword">from</span> <span class="token string">'classnames'</span>
<span class="token operator">...</span>
<span class="token keyword">import</span> Block<span class="token punctuation">,</span> <span class="token punctuation">{</span> Direction<span class="token punctuation">,</span> Sort <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'components/molecules/Block'</span>
<span class="token operator">...</span>

<span class="token keyword">const</span> BlogCard<span class="token punctuation">:</span> React<span class="token punctuation">.</span>FC<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IProps</span><span class="token punctuation">></span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  className<span class="token punctuation">,</span>
  image<span class="token punctuation">,</span>
  title<span class="token punctuation">,</span>
  description<span class="token punctuation">,</span>
  viewCount<span class="token punctuation">,</span>
  theme <span class="token operator">=</span> defaultTheme<span class="token punctuation">,</span>
  margin
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Card</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>classProps<span class="token punctuation">}</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>styleProps<span class="token punctuation">}</span></span> <span class="token attr-name">radius</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span> <span class="token number">12</span> <span class="token punctuation">]</span><span class="token punctuation">}</span></span> <span class="token attr-name">margin</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>margin<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Block</span>
        <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>card<span class="token punctuation">}</span></span>
        <span class="token attr-name">direction</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Direction<span class="token punctuation">.</span>COLUMN<span class="token punctuation">}</span></span>
        <span class="token attr-name">padding</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>isWhiteTheme <span class="token operator">?</span> <span class="token punctuation">[</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">12</span> <span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token number">24</span> <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
        <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> background<span class="token punctuation">:</span> backgroundColor <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
        <span class="token attr-name">sort</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>isWhiteTheme <span class="token operator">?</span> Sort<span class="token punctuation">.</span>SPACE_BETWEEN_CENTER <span class="token punctuation">:</span> Sort<span class="token punctuation">.</span>BOTTOM_LEFT<span class="token punctuation">}</span></span>
      <span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Block</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>header<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>watchIcon<span class="token punctuation">}</span></span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>isWhiteTheme <span class="token operator">?</span> WatchIconBlack <span class="token punctuation">:</span> WatchIcon<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>watch-icon<span class="token punctuation">'</span></span> <span class="token punctuation">/></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Span</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>watchCount<span class="token punctuation">}</span></span> <span class="token attr-name">color</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>theme<span class="token punctuation">.</span>textColor<span class="token punctuation">.</span>viewCount<span class="token punctuation">}</span></span> <span class="token attr-name">size</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token number">16</span><span class="token punctuation">}</span></span> <span class="token attr-name">weight</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token number">500</span><span class="token punctuation">}</span></span> <span class="token attr-name">lineHeight</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token number">1.4</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>
            <span class="token punctuation">{</span>viewCount<span class="token punctuation">}</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Span</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Block</span><span class="token punctuation">></span></span>
        <span class="token operator">...</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Block</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Card</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> BlogCard</code></pre>
<p>내장 컴포넌트를 적극적으로 사용하여 외장 컴포넌트를 제작하였습니다.</p>
<h4 id="결과"><a href="#결과" class="headerlink" title="결과"></a>결과</h4><p><img src="6.png" alt="이미지6"></p>
<p>간단하게 컴포넌트를 두 종류로 나누어보았습니다. 코드 상에서도 같은 레벨의 컴포넌트를 호출하지 않고 분기를 주니, 파일을 불러올 때도 일관적으로 변경이 된 걸 볼 수 있습니다. 또한 이미지나 폰트등의 디자인이 변경되거나 할 때 내장 컴포넌트를 한번 변경해주면 모두 동일하게 변경이 될 수 있어 용이합니다.</p>
<h3 id="심화"><a href="#심화" class="headerlink" title="심화"></a>심화</h3><p>이렇게 진행하다보면, 외장 컴포넌트가 비대해지는 걸 볼 수 있습니다. 외장 컴포넌트가 내장 컴포넌트를 사용하는데 같은 외장 컴포넌트끼리 중복되는 코드가 많아질 것 입니다. 이를 방지하기 위해 외장 컴포넌트에 레이어 하나를 더 추가하면 좋습니다.</p>
<h4 id="Libraries"><a href="#Libraries" class="headerlink" title="Libraries"></a>Libraries</h4><p>위에서 언급했던 Libraries가 여기서 출현했습니다. Libraries는 외장 컴포넌트에서 외장 컴포넌트끼리의 동일한 코드를 묶는 역할도 담당하지만 가장 중요한 내용이 있습니다. 바로 <strong>도메인에 영향받지 않는 공통 컴포넌트</strong> 라는 점입니다.</p>
<p><img src="7.png" alt="이미지7"><br>(이미지 참고: <a href="https://story.pxd.co.kr/1434" target="_blank" rel="noopener">https://story.pxd.co.kr/1434</a>)</p>
<p>카카오톡을 예시로 들어봅시다. 카카오톡이 성공하고 플랫폼이 커짐에 따라 카카오맵, 카카오스타일 등의 여러 서비스가 추가로 나오고 있습니다. 카카오톡에서 이후로 나오는 서비스들은 <strong>카카오가 만들었어요!</strong> 라는 느낌이 들어야 할 것 입니다. 그렇기 때문에 <strong>디자인 일관성</strong>을 주어야 하는데, 이 작업을 위해서 디자인 시스템을 만들어 매니지먼트를 하는게 가장 편할 것입니다.</p>
<p>하지만 여기서 중요한 점은 <strong>동일한 컴포넌트를 사용해도 레이아웃이 조금은 달라질 수 있다는 점</strong> 입니다. 예를들어 카카오페이와 카카오톡이 100% 동일한 레이아웃이 아닌 것처럼, <strong>각 도메인에 따라 레이아웃이 달라질 수 있다</strong> 라는 것 입니다.</p>
<p>그래서, <strong>Libraries는 동일한 레이아웃, 레이아웃 디자인을 일관성 있는 컴포넌트 꾸러미</strong>라면, <strong>Products는 각 도메인에 맞는 레이아웃 디자인 컴포넌트 꾸러미</strong> 라고 할 수 있습니다.</p>
<br>

<p><img src="8.png" alt="이미지8"><br>(clean architecture와 흡사한 형태의 구현이 된다)</p>
<h4 id="결과-1"><a href="#결과-1" class="headerlink" title="결과"></a>결과</h4><p><img src="9.png" alt="이미지9"></p>
<p>왼쪽은 내장, 오른쪽은 외장 컴포넌트 입니다. 어느정도 규격이 잡혀가는 걸 볼 수 있습니다. 외장 컴포넌트에서 Products, Libraries는 번들링되어 프로덕트 레벨에서도 사용되지만, Libraries는 Products 레벨에서도 사용됩니다. 이렇게 구현하면 중복코드가 줄어듦을 확인할 수 있습니다.</p>
<h2 id="정리"><a href="#정리" class="headerlink" title="정리"></a>정리</h2><ol>
<li>외장, 내장 컴포넌트 분리를 하여 사용 용도에 맞게 컴포넌트를 분리하는게 좋다.</li>
<li>외장 컴포넌트에서도 레벨을 나누어 클린아키텍쳐 형태로 구현하면 재사용 가능한 컴포넌트도 늘어나고, 코드 개선에 도움이 된다.</li>
<li>Atomic Design에 몰입해서 컴포넌트 분리를 <code>atomic</code> 에만 의존하지 말자.</li>
</ol>

        </div>
        
        <div class="post-tag">
            
            <a class="tag" href="/tags/Tech/" title="Tech">Tech</a>
            
        </div>
        
    </article>
    <div id="disqus_thread"></div>
    <script>

    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://vallista-1.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
<div class="paginator">
    
        
            <a class="prev" href="/2020/05/05/TypeScript-디자인-패턴-팩토리-패턴/">
                <div class="wrapper">
                    <i class="iconfont icon-prev"></i>
                    <
                    <span class="nav-default">TypeScript 디자인 패턴 - 팩토리 패턴</span>
                    <span class="nav-mobile">이전글</span>
                </div>
            </a>
        
        
            <a class="next" href="/2020/03/29/Component-분리의-미학/">
                <div class="wrapper">
                    <span class="nav-default">컴포넌트 분리의 미학</span>
                    <span class="nav-mobile">다음글</span>
                    >
                    <i class="iconfont icon-next"></i>
                </div>
            </a>
        
    
</div>
<div id="comment-container"></div>
    </div>
</div>
<footer class="footer-social">
    

    

    

    <div class="footer-copyright">
        <p class="time-line">
            &copy;
            
            
            2020
            &nbsp;<i class="iconfont icon-heart"></i>&nbsp;
            <a target="_blank" href="https://github.com/vallista">Vallista</a>
        </p>
        <p class="theme-info">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme -
            <a target="_blank" href="https://github.com/">Vallista</a>
        </p>
    </div>
</footer>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    

</script>
</html>
