{"version":3,"file":"464eac91-c540fefb896c0fdc9b09.js","mappings":"mPAeO,IAAMA,EAA6B,SAACC,GACzC,IAAMC,GAAWC,EAAAA,EAAAA,eACTC,EAAgBH,EAAhBG,MAAOC,EAASJ,EAATI,KACf,GAA4BC,EAAAA,EAAAA,WAAS,WACnC,MAAsB,oBAAXC,OAA+B,GAEnCC,EAAAA,EAAiB,WAAa,MAHhCC,EAAP,KAAeC,EAAf,KAKA,GAAgCJ,EAAAA,EAAAA,WAA0B,WACxD,MAAsB,oBAAXC,OAA+B,OAClCC,EAAAA,EAAiB,cAAoC,UAFxDG,EAAP,KAAiBC,EAAjB,KAIMC,GAAMC,EAAAA,EAAAA,QAAuB,MACnC,GAAwDR,EAAAA,EAAAA,WAAS,GAA1DS,EAAP,KAA6BC,EAA7B,KAEMC,GAAgBC,EAAAA,EAAAA,UACpB,kBAAMd,EAAMe,QAAO,SAACC,GAAD,OAAQA,EAAGC,KAAKC,oBAAoBC,SAASd,EAAOa,0BACvE,CAACb,EAAQL,KAGXoB,EAAAA,EAAAA,YAAU,WAAO,IAAD,QACdR,GAAwB,oBAACH,EAAIY,eAAL,aAAC,EAAaC,oBAAd,QAA8B,IAA9B,oBAAoCb,EAAIY,eAAxC,aAAoC,EAAaE,oBAAjD,QAAiE,MACxF,CAAClB,EAAQL,EAAOO,IAEnB,IAAMiB,GAAOV,EAAAA,EAAAA,UAAQ,iBAAoB,SAAbP,EAAsBkB,EAAYC,IAAY,CAACnB,IACrEoB,GAAWb,EAAAA,EAAAA,UAAQ,iBAAoB,SAAbP,EAAsBqB,EAAgBC,IAAgB,CAACtB,IAEvF,OACE,8BACE,UAACuB,EAAD,CAAQnB,qBAAsBA,EAAsBV,KAAMA,EAA1D,WACE,UAAC8B,EAAD,YACE,UAAC,KAAD,eACI,KACF,UAAC,KAAD,CAAMC,GAAG,OAAOC,MAAOC,EAAAA,GAAAA,QAAAA,SAAvB,cACIlC,EAAMmC,OADV,WAIF,SAACC,EAAD,CAAQC,QA8FhB,WACE,IAAMC,EAAoB,SAAb/B,EAAsB,OAAS,OAC5CH,EAAAA,EAAiB,YAAakC,GAC9B9B,EAAY8B,IAjGN,SACgB,SAAb/B,GACC,iBACEgC,QAAQ,YACRC,MAAM,KACNC,OAAO,KACPC,OAAO,eACPC,YAAY,MACZC,cAAc,QACdC,eAAe,QACfC,KAAK,OACLC,eAAe,qBATjB,WAWE,iBAAMC,EAAE,cACR,iBAAMA,EAAE,aACR,iBAAMA,EAAE,cACR,iBAAMA,EAAE,iBAGV,iBACET,QAAQ,YACRC,MAAM,KACNC,OAAO,KACPC,OAAO,eACPC,YAAY,MACZC,cAAc,QACdC,eAAe,QACfC,KAAK,OACLC,eAAe,qBATjB,WAWE,iBAAME,EAAE,IAAIC,EAAE,IAAIV,MAAM,KAAKC,OAAO,KAAKU,GAAG,IAAIC,GAAG,OACnD,iBAAMJ,EAAE,sBAKhB,SAACK,EAAD,WACE,SAAC,KAAD,CAAaC,MAAOjD,EAAQkD,QAoDpC,WACEjD,EAAU,IACVF,EAAAA,EAAiB,SAAU,KAtD6BoD,SA+C1D,SAAqBC,GACnBnD,EAAUmD,GACVrD,EAAAA,EAAiB,SAAUqD,IAjDoDC,KAAK,QAAQC,YAAY,eAGtG,SAACC,EAAD,CAAkBnD,IAAKA,EAAKE,qBAAsBA,EAAsBV,KAAMA,EAA9E,UACE,SAAC4D,EAAD,WACE,SAAC,KAAD,WACE,SAACrC,EAAD,UACGX,EAAciD,KAAI,SAAC9C,GAAD,OACjB,UAACW,EAAD,CAEEU,QAAS,kBAiCDoB,EAjCsBzC,EAAG+C,UAkC/CC,EAAAA,EAAAA,UAASP,GADX,IAAwBA,GAhCRQ,MAAOjD,EAAGiD,MACVC,KAAMlD,EAAGC,KACTkD,UAkDEV,EAlDiBzC,EAAG+C,KAmD7BK,mBAAmBtE,EAASuE,UAAUlD,SAASsC,EAAOa,MAAM,GAAI,KAxD3D,WAOE,yBACgB,SAAb/D,IACC,iBACEgC,QAAQ,YACRC,MAAM,KACNC,OAAO,KACPC,OAAO,eACPC,YAAY,MACZC,cAAc,QACdC,eAAe,QACfC,KAAK,OACLC,eAAe,qBATjB,WAWE,iBAAMC,EAAE,2DACR,iBAAMA,EAAE,mBAIA,SAAbzC,IAAuB,SAAC,KAAD,UAAOS,EAAGC,SAxB7BD,EAAGC,MAsDxB,IAAkBwC,iBAzIb,wNA8IDG,GAAgB,iIASlB,gBAAGW,EAAH,EAAGA,MAAO5D,EAAV,EAAUA,qBAAsBV,EAAhC,EAAgCA,KAAhC,OAA2CuE,EAAAA,EAAAA,IAA1C,WACUD,EAAME,OAAOC,eAAiB,EADzC,eAEcH,EAAMI,OAAOC,QAAQC,SAFnC,eAGcN,EAAMO,QAAQC,MAH5B,IAKEpE,GAAoB,EALtB,IAYEV,GAAI,EAZN,mGAyBIU,GAAoB,EAzBxB,WATkB,wWAAtB,0EAyEMmB,GAAM,sKAUR,gBAAGyC,EAAH,EAAGA,MAAOtE,EAAV,EAAUA,KAAV,OAAqBuE,EAAAA,EAAAA,IAApB,WACUD,EAAME,OAAOC,eADxB,eAEcH,EAAMI,OAAOC,QAAQC,SAFnC,IAIE5E,GAAI,EAJN,UAVQ,wFAiCNmC,GAAM,oKAQR,gBAAGmC,EAAH,EAAGA,MAAH,OAAeC,EAAAA,EAAAA,IAAd,SACQD,EAAMI,OAAOC,QAAQI,SAD9B,kBAGWT,EAAMI,OAAOC,QAAQK,WAHhC,WARQ,KAgBNlD,GAAK,8MAcLsB,GAAS,0JAYTQ,GAAU,mGAKVpC,GAAS,wIAOTG,GAAa,kSAcf,gBAAG2C,EAAH,EAAGA,MAAON,EAAV,EAAUA,MAAOC,EAAjB,EAAiBA,KAAMC,EAAvB,EAAuBA,SAAvB,OAAsCK,EAAAA,EAAAA,IAArC,wBACuBP,EADxB,6FAKcM,EAAMO,QAAQC,MAL5B,UAMSR,EAAMI,OAAOC,QAAQM,WAN9B,gGAegBf,EAAWI,EAAMI,OAAOQ,UAAUC,KAAOb,EAAMI,OAAOC,QAAQK,WAf9E,YAgBad,EAAW,GAAM,GAhB9B,0CAqBcD,EArBd,6FA4BWK,EAAMI,OAAOC,QAAQM,WA5BhC,4FAde,wCAuDbxD,GAAS,+FAKTG,GAAa,6MAWf,gBAAG0C,EAAH,EAAGA,MAAOJ,EAAV,EAAUA,SAAV,OAAyBK,EAAAA,EAAAA,IACvBL,IACFK,EAAAA,EAAAA,IADU,yBAEiBD,EAAMI,OAAOQ,UAAUC,KAFxC,0BADV,wFAYWb,EAAMI,OAAOC,QAAQI,SAZhC,8BAgBsBT,EAAMI,OAAOC,QAAQS,SAhB3C,WAXe","sources":["webpack://@vallista-land/blog/./src/components/Sidebar/index.tsx"],"sourcesContent":["import { css } from '@emotion/react'\nimport styled from '@emotion/styled'\nimport { useLocation } from '@reach/router'\nimport { Colors, Container, Text, SearchInput } from '@vallista-land/core'\nimport { navigate } from 'gatsby'\nimport { useEffect, useMemo, useRef, useState, VFC } from 'react'\n\nimport { SidebarPost } from '../../types/type'\nimport { localStorage } from '../../utils'\n\ninterface SidebarProps {\n  posts: SidebarPost[]\n  fold: boolean\n}\n\nexport const Sidebar: VFC<SidebarProps> = (props) => {\n  const location = useLocation()\n  const { posts, fold } = props\n  const [search, setSearch] = useState(() => {\n    if (typeof window === 'undefined') return ''\n\n    return localStorage.get('search') || ''\n  })\n  const [viewType, setViewType] = useState<'list' | 'card'>(() => {\n    if (typeof window === 'undefined') return 'card'\n    return (localStorage.get('view-type') as 'list' | 'card') || 'card'\n  })\n  const ref = useRef<HTMLDivElement>(null)\n  const [hasVerticalScrollbar, setHasVerticalScrollbar] = useState(false)\n\n  const filteredPosts = useMemo(\n    () => posts.filter((it) => it.name.toLocaleUpperCase().includes(search.toLocaleUpperCase())),\n    [search, posts]\n  )\n\n  useEffect(() => {\n    setHasVerticalScrollbar((ref.current?.scrollHeight ?? 0) > (ref.current?.clientHeight ?? 0))\n  }, [search, posts, viewType])\n\n  const List = useMemo(() => (viewType === 'card' ? CardStyle : ListStyle), [viewType])\n  const ListItem = useMemo(() => (viewType === 'card' ? CardStyleItem : ListStyleItem), [viewType])\n\n  return (\n    <aside>\n      <Header hasVerticalScrollbar={hasVerticalScrollbar} fold={fold}>\n        <Title>\n          <Text>\n            글{' '}\n            <Text as='span' color={Colors.PRIMARY.ACCENT_4}>\n              ({posts.length})\n            </Text>\n          </Text>\n          <Button onClick={handleChangeViewType}>\n            {viewType === 'card' ? (\n              <svg\n                viewBox='0 0 24 24'\n                width='20'\n                height='20'\n                stroke='currentColor'\n                strokeWidth='1.5'\n                strokeLinecap='round'\n                strokeLinejoin='round'\n                fill='none'\n                shapeRendering='geometricPrecision'\n              >\n                <path d='M21 10H3' />\n                <path d='M21 6H3' />\n                <path d='M21 14H3' />\n                <path d='M21 18H3' />\n              </svg>\n            ) : (\n              <svg\n                viewBox='0 0 24 24'\n                width='20'\n                height='20'\n                stroke='currentColor'\n                strokeWidth='1.5'\n                strokeLinecap='round'\n                strokeLinejoin='round'\n                fill='none'\n                shapeRendering='geometricPrecision'\n              >\n                <rect x='1' y='4' width='20' height='16' rx='2' ry='2' />\n                <path d='M1 10h20' />\n              </svg>\n            )}\n          </Button>\n        </Title>\n        <SearchBox>\n          <SearchInput value={search} onReset={searchClear} onChange={handleInput} size='small' placeholder='검색..' />\n        </SearchBox>\n      </Header>\n      <SidebarContainer ref={ref} hasVerticalScrollbar={hasVerticalScrollbar} fold={fold}>\n        <Categories>\n          <Container>\n            <List>\n              {filteredPosts.map((it) => (\n                <ListItem\n                  key={it.name}\n                  onClick={() => moveToLocation(it.slug)}\n                  image={it.image}\n                  text={it.name}\n                  isActive={isActive(it.slug)}\n                >\n                  <div>\n                    {viewType === 'list' && (\n                      <svg\n                        viewBox='0 0 24 24'\n                        width='20'\n                        height='20'\n                        stroke='currentColor'\n                        strokeWidth='1.5'\n                        strokeLinecap='round'\n                        strokeLinejoin='round'\n                        fill='none'\n                        shapeRendering='geometricPrecision'\n                      >\n                        <path d='M13 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V9z' />\n                        <path d='M13 2v7h7' />\n                      </svg>\n                    )}\n                  </div>\n                  {viewType === 'list' && <Text>{it.name}</Text>}\n                </ListItem>\n              ))}\n            </List>\n          </Container>\n        </Categories>\n      </SidebarContainer>\n    </aside>\n  )\n\n  function moveToLocation(target: string): void {\n    navigate(target)\n  }\n\n  function handleInput(target: string): void {\n    setSearch(target)\n    localStorage.set('search', target)\n  }\n\n  function searchClear(): void {\n    setSearch('')\n    localStorage.set('search', '')\n  }\n\n  function handleChangeViewType(): void {\n    const type = viewType === 'card' ? 'list' : 'card'\n    localStorage.set('view-type', type)\n    setViewType(type)\n  }\n\n  function isActive(target: string): boolean {\n    return decodeURIComponent(location.pathname).includes(target.slice(0, -1))\n  }\n}\n\nconst SidebarContainer = styled.div<{ hasVerticalScrollbar: boolean; fold: boolean }>`\n  position: fixed;\n  width: 320px;\n  height: 100vh;\n  top: 0;\n  left: 80px;\n  overflow-x: hidden;\n  overflow-y: hidden;\n\n  ${({ theme, hasVerticalScrollbar, fold }) => css`\n    z-index: ${theme.layers.AFTER_STANDARD - 1};\n    background: ${theme.colors.PRIMARY.ACCENT_1};\n    box-shadow: ${theme.shadows.SMALL};\n\n    ${hasVerticalScrollbar &&\n    css`\n      &:hover > div:last-of-type {\n        margin-right: -8px;\n      }\n    `}\n\n    ${fold &&\n    css`\n      left: -320px;\n\n      & > div:first-of-type {\n        left: -320px;\n      }\n    `}\n\n    /* ipad Portrait and Landscape */\n    @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n      overflow-y: auto;\n\n      ${hasVerticalScrollbar &&\n      css`\n        &:hover > div:last-of-type {\n          margin-right: 0;\n        }\n      `}\n    }\n  `}\n\n  @media screen and (max-width: 1024px) {\n    left: -320px;\n\n    & > div:first-of-type {\n      left: -320px;\n    }\n  }\n\n  &:hover {\n    overflow-y: auto;\n  }\n\n  /** 파이어폭스 스크롤 대응 */\n  scrollbar-width: 8px;\n  // thumb background 순\n  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-background);\n\n  /** 사파리 크롬 스크롤 대응 */\n  &::-webkit-scrollbar {\n    background: var(--scrollbar-background);\n    height: 8px;\n    width: 8px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: var(--scrollbar-thumb);\n    border-radius: 0;\n  }\n`\n\nconst Header = styled.div<{ hasVerticalScrollbar: boolean; fold: boolean }>`\n  display: flex;\n  flex-direction: column;\n  position: fixed;\n  top: 0;\n  left: 80px;\n  transform: translate3d(0, 0, 1);\n  width: 320px;\n  padding-bottom: 14px;\n\n  ${({ theme, fold }) => css`\n    z-index: ${theme.layers.AFTER_STANDARD};\n    background: ${theme.colors.PRIMARY.ACCENT_1};\n\n    ${fold &&\n    css`\n      left: -320px;\n\n      & > div:first-of-type {\n        left: -320px;\n      }\n    `}\n  `}\n\n  @media screen and (max-width: 1024px) {\n    left: -320px;\n\n    & > div:first-of-type {\n      left: -320px;\n    }\n  }\n`\n\nconst Button = styled.button`\n  border: none;\n  background: none;\n  outline: none;\n  cursor: pointer;\n  padding: 0;\n  transition: color 0.2s cubic-bezier(0.215, 0.61, 0.355, 1);\n\n  ${({ theme }) => css`\n    color: ${theme.colors.PRIMARY.ACCENT_4};\n    &:hover {\n      color: ${theme.colors.PRIMARY.FOREGROUND};\n    }\n  `}\n`\n\nconst Title = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  height: 35px;\n  font-weight: 600;\n  font-size: 14px;\n  padding: 0 28px 2px;\n\n  & > button {\n    margin: 0;\n  }\n`\n\nconst SearchBox = styled.div`\n  display: flex;\n  align-items: flex-end;\n  height: 38px;\n  padding: 0 24px;\n  max-width: 100%;\n\n  & > div {\n    width: 100%;\n  }\n`\n\nconst Categories = styled.div`\n  margin-top: 73px;\n  padding: 16px 24px 32px;\n`\n\nconst CardStyle = styled.nav`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n`\n\nconst CardStyleItem = styled.a<{ image: string | null; text: string; isActive: boolean }>`\n  position: relative;\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-end;\n  width: 130px;\n  height: 130px;\n  margin-bottom: 12px;\n  border-radius: 12px;\n  cursor: pointer;\n  overflow: hidden;\n  transform: scale(1, 1);\n  transition: transform 0.2s cubic-bezier(0.075, 0.82, 0.165, 1);\n\n  ${({ theme, image, text, isActive }) => css`\n    background-image: url(${image});\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-position: center;\n    box-shadow: ${theme.shadows.SMALL};\n    color: ${theme.colors.PRIMARY.BACKGROUND};\n\n    &::before {\n      content: '';\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: inherit;\n      height: inherit;\n      background: ${isActive ? theme.colors.HIGHLIGHT.PINK : theme.colors.PRIMARY.FOREGROUND};\n      opacity: ${isActive ? 0.5 : 0.3};\n      border-radius: 12px;\n    }\n\n    &::after {\n      content: '${text}';\n      position: absolute;\n      right: 0;\n      bottom: 0;\n      font-size: 16px;\n      font-weight: 600;\n      line-height: 1.1;\n      color: ${theme.colors.PRIMARY.BACKGROUND};\n      text-align: right;\n      margin: 6px 6px 12px;\n      word-break: keep-all;\n      letter-spacing: -0.02rem;\n    }\n  `}\n\n  &:hover {\n    transform: scale(1.1, 1.1);\n  }\n`\n\nconst ListStyle = styled.nav`\n  display: flex;\n  flex-direction: column;\n`\n\nconst ListStyleItem = styled.a<{ isActive: boolean }>`\n  position: relative;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  cursor: pointer;\n  padding: 6px 12px;\n  margin: 0 -12px;\n  border-radius: 6px;\n  transition: border 0.2s ease;\n\n  ${({ theme, isActive }) => css`\n    ${isActive &&\n    css`\n      border-left: 6px solid ${theme.colors.HIGHLIGHT.PINK};\n      padding-left: 12px;\n    `};\n\n    & > div {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      margin-right: 6px;\n      color: ${theme.colors.PRIMARY.ACCENT_4};\n    }\n\n    &:hover {\n      background-color: ${theme.colors.PRIMARY.ACCENT_2};\n    }\n\n    /* &::before {\n      content: '';\n      transform: translateY(-50%);\n      \n      font-size: 1rem;\n    } */\n  `}\n\n  & > svg {\n    width: 20px;\n    height: 20px;\n  }\n`\n"],"names":["Sidebar","props","location","useLocation","posts","fold","useState","window","localStorage","search","setSearch","viewType","setViewType","ref","useRef","hasVerticalScrollbar","setHasVerticalScrollbar","filteredPosts","useMemo","filter","it","name","toLocaleUpperCase","includes","useEffect","current","scrollHeight","clientHeight","List","CardStyle","ListStyle","ListItem","CardStyleItem","ListStyleItem","Header","Title","as","color","Colors","length","Button","onClick","type","viewBox","width","height","stroke","strokeWidth","strokeLinecap","strokeLinejoin","fill","shapeRendering","d","x","y","rx","ry","SearchBox","value","onReset","onChange","target","size","placeholder","SidebarContainer","Categories","map","slug","navigate","image","text","isActive","decodeURIComponent","pathname","slice","theme","css","layers","AFTER_STANDARD","colors","PRIMARY","ACCENT_1","shadows","SMALL","ACCENT_4","FOREGROUND","BACKGROUND","HIGHLIGHT","PINK","ACCENT_2"],"sourceRoot":""}