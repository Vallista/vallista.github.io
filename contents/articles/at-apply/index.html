<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
  <title>Next에서 Alias 적용하기</title>
  <meta name="description" content="next.js에서 alias를 적용하려면 여러군데에 적용해야하는데, 이게 좀 복잡하다. 1. next.config.js에 추가 ```javascript {numberLines} ... webpack(config, options) { config.resolve = { a">
  <meta name="image" content="https://vallista.kr/profile.png">
  <meta property="og:url" content="https://vallista.kr/contents/Next에서-Alias-적용하기">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Next에서 Alias 적용하기">
  <meta property="og:description" content="next.js에서 alias를 적용하려면 여러군데에 적용해야하는데, 이게 좀 복잡하다. 1. next.config.js에 추가 ```javascript {numberLines} ... webpack(config, options) { config.resolve = { a">
  <meta property="og:image" content="https://vallista.kr/profile.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Next에서 Alias 적용하기">
  <meta name="twitter:description" content="next.js에서 alias를 적용하려면 여러군데에 적용해야하는데, 이게 좀 복잡하다. 1. next.config.js에 추가 ```javascript {numberLines} ... webpack(config, options) { config.resolve = { a">
  <meta name="twitter:image" content="https://vallista.kr/profile.png">
  <meta name="google-site-verification" content="wPI09aIL9InuxJwKlMkLE-4mzzfbNhQqRCJ760C-8nQ">

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Fonts Preload -->
    <link
      rel="preload"
      as="font"
      type="font/woff2"
      crossorigin
      href="/fonts/pretendard/Pretendard-Regular.subset.woff2"
    />
    <link rel="preload" as="font" type="font/woff2" crossorigin href="/fonts/pretendard/Pretendard-Bold.subset.woff2" />
    <link
      rel="preload"
      as="font"
      type="font/woff2"
      crossorigin
      href="/fonts/pretendard/Pretendard-ExtraBold.subset.woff2"
    />
    <link
      rel="preload"
      as="font"
      type="font/woff2"
      crossorigin
      href="/fonts/pretendard/Pretendard-ExtraLight.subset.woff2"
    />
    <link
      rel="preload"
      as="font"
      type="font/woff2"
      crossorigin
      href="/fonts/pretendard/Pretendard-Black.subset.woff2"
    />
    <link
      rel="preload"
      as="font"
      type="font/woff2"
      crossorigin
      href="/fonts/pretendard/Pretendard-Medium.subset.woff2"
    />
    <link
      rel="preload"
      as="font"
      type="font/woff2"
      crossorigin
      href="/fonts/pretendard/Pretendard-SemiBold.subset.woff2"
    />
    <link rel="preload" as="font" type="font/woff2" crossorigin href="/fonts/pretendard/Pretendard-Thin.subset.woff2" />
    <link
      rel="preload"
      as="font"
      type="font/woff2"
      crossorigin
      href="/fonts/pretendard/Pretendard-Light.subset.woff2"
    />

    <!-- Favicon / PWA -->
    <link rel="icon" href="/icons/favicon.ico" />
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png" />
    <link rel="icon" sizes="192x192" href="/icons/icon-192.png" />
    <link rel="icon" sizes="512x512" href="/icons/icon-512.png" />
    <link rel="manifest" href="/icons/site.webmanifest" />

    <!-- iOS Theme Color -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="theme-color" content="#ffffff" />
  </head>
  <body>
    <div id="root">
      <p>next.js에서 alias를 적용하려면 여러군데에 적용해야하는데, 이게 좀 복잡하다.</p>
<ol>
<li>
<p>next.config.js에 추가</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="javascript" data-theme="one-dark-pro"><code data-language="javascript" data-theme="one-dark-pro" style="display: grid;"><span data-line=""><span style="color:#ABB2BF">...</span></span>
<span data-line=""><span style="color:#61AFEF">webpack</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">config</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">options</span><span style="color:#ABB2BF">) {</span></span>
<span data-line=""><span style="color:#E5C07B">  config</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">resolve</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#E06C75">    alias</span><span style="color:#ABB2BF">: {</span></span>
<span data-line=""><span style="color:#98C379">      '@src'</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">path</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">join</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">__dirname</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'src'</span><span style="color:#ABB2BF">),</span></span>
<span data-line=""><span style="color:#98C379">      '@components'</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">path</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">join</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">__dirname</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'src'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'components'</span><span style="color:#ABB2BF">),</span></span>
<span data-line=""><span style="color:#98C379">      '@containers'</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">path</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">join</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">__dirname</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'src'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'containers'</span><span style="color:#ABB2BF">),</span></span>
<span data-line=""><span style="color:#98C379">      '@store'</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">path</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">join</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">__dirname</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'src'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'store'</span><span style="color:#ABB2BF">),</span></span>
<span data-line=""><span style="color:#98C379">      '@interface'</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">path</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">join</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">__dirname</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'src'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'@types/interface.ts'</span><span style="color:#ABB2BF">)</span></span>
<span data-line=""><span style="color:#ABB2BF">    },</span></span>
<span data-line=""><span style="color:#ABB2BF">    ...</span><span style="color:#E5C07B">config</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">resolve</span></span>
<span data-line=""><span style="color:#ABB2BF">  }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // config.resolve.alias['@src'] = path.join(__dirname, 'src')</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // config.resolve.alias['@components'] = path.join(__dirname, 'src', 'components')</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // config.resolve.alias['@interface'] = path.join(__dirname, 'src', '@types/interface.ts')</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // config.resolve.extensions = ['js', 'ts', 'tsx']</span></span>
<span data-line=""><span style="color:#C678DD">  return</span><span style="color:#E06C75"> config</span></span>
<span data-line=""><span style="color:#ABB2BF">}</span></span></code></pre></figure>
<p>이렇게 webpack - config.resolve.alias 설정을 해준다. 아래처럼 단일로 지정하면 이전의 다른 설정값이 날라가서 저장이 되지 않는다.</p>
</li>
<li>
<p>.babelrc 추가</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="javascript" data-theme="one-dark-pro"><code data-language="javascript" data-theme="one-dark-pro" style="display: grid;"><span data-line=""><span style="color:#98C379">"plugins"</span><span style="color:#ABB2BF">: [</span></span>
<span data-line=""><span style="color:#ABB2BF">  ...</span></span>
<span data-line=""><span style="color:#ABB2BF">  [</span><span style="color:#98C379">"module-resolver"</span><span style="color:#ABB2BF">, {</span></span>
<span data-line=""><span style="color:#98C379">    "root"</span><span style="color:#ABB2BF">: [</span><span style="color:#98C379">"./src"</span><span style="color:#ABB2BF">],</span></span>
<span data-line=""><span style="color:#98C379">    "alias"</span><span style="color:#ABB2BF">: {</span></span>
<span data-line=""><span style="color:#98C379">      "@src"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"./src"</span><span style="color:#ABB2BF">,</span></span>
<span data-line=""><span style="color:#98C379">      "@components"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"./src/components"</span><span style="color:#ABB2BF">,</span></span>
<span data-line=""><span style="color:#98C379">      "@interface"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"./src/@types/interface.ts"</span></span>
<span data-line=""><span style="color:#ABB2BF">    }</span></span>
<span data-line=""><span style="color:#ABB2BF">  }],</span></span>
<span data-line=""><span style="color:#ABB2BF">  ...</span></span>
<span data-line=""><span style="color:#ABB2BF">]</span></span></code></pre></figure>
<p>babelrc 설정에 추가해서 webpack compile시에 alias path를 알 수 있도록 설정한다.</p>
</li>
<li>
<p>TypeScript를 사용한다면 tsconfig에도 지정해준다.</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="javascript" data-theme="one-dark-pro"><code data-language="javascript" data-theme="one-dark-pro" style="display: grid;"><span data-line=""><span style="color:#ABB2BF">{</span></span>
<span data-line=""><span style="color:#98C379">  "compilerOptions"</span><span style="color:#ABB2BF">: {</span></span>
<span data-line=""><span style="color:#ABB2BF">    ...</span></span>
<span data-line=""><span style="color:#98C379">    "paths"</span><span style="color:#ABB2BF">: {</span></span>
<span data-line=""><span style="color:#98C379">      "@src/*"</span><span style="color:#ABB2BF">: [</span><span style="color:#98C379">"src/*"</span><span style="color:#ABB2BF">],</span></span>
<span data-line=""><span style="color:#98C379">      "@components/*"</span><span style="color:#ABB2BF">: [</span><span style="color:#98C379">"src/components/*"</span><span style="color:#ABB2BF">],</span></span>
<span data-line=""><span style="color:#98C379">      "@interface"</span><span style="color:#ABB2BF">: [</span><span style="color:#98C379">"src/@types/interface"</span><span style="color:#ABB2BF">],</span></span>
<span data-line=""><span style="color:#ABB2BF">    },</span></span>
<span data-line=""><span style="color:#ABB2BF">    ...</span></span>
<span data-line=""><span style="color:#ABB2BF">  }</span></span>
<span data-line=""><span style="color:#ABB2BF">}</span></span></code></pre></figure>
<p>compilerOptions ⇒ paths에 추가해준다. 이렇게 해주는 이유는 TypeScript → JavaScript로 transfiling 될 때 제대로 트랜스파일링 해주기 위함이다.</p>
</li>
</ol>
    </div>

    <!-- 빌드된 JS 번들 로드 -->
    <script type="module" src="/assets/assets/index-BBIx56w-.js"></script>
  </body>
</html>
