{"version":3,"file":"00971824-8ff15c665fdc393e870b.js","mappings":"8PAmCO,MAAMA,EAA6CC,IAClD,MAAEC,QAAAC,EAASC,eAAAC,EAAgBC,IAAAC,GAAuBN,EAAfO,GAAAC,EAAAA,EAAAA,GAAeR,EAAAS,GAElDC,GAAMC,EAAAA,EAAAA,QAAyB,OAC9BC,EAAQC,IAAaC,EAAAA,EAAAA,UAAwB,OAEpDC,EAAAA,EAAAA,YAAU,KACF,MAAAC,EAAc,IAAIC,MACxB,OAAAD,EAAYX,IAAMC,EAElBU,EAAYE,OAAS,KACnBL,EAAUP,EAAI,EAGT,KACLU,EAAYE,OAAS,IAAI,CAC1B,GACA,IAEH,MAAMC,GAASC,EAAAA,EAAAA,GAAmBb,EAAWc,OAASd,EAAWe,MAAS,KAK1E,OACGC,EAAAA,EAAAA,GAAAC,EAAAC,OAAAC,OAAA,GALe,CAChBrB,IAAKO,GAIyBL,EAAA,CAAYoB,OAAQf,EAChDgB,UAAAC,EAAAA,EAAAA,IAACC,EAAK,CAAAR,MAAOf,EAAWe,MACtBM,SAAA,EAACL,EAAAA,EAAAA,GAAAQ,EAAA,CAAQV,OAAAF,EACPS,UAAAL,EAAAA,EAAAA,GAACS,EAAI,CAAAC,IAAAvB,EAAUwB,SAAS,QAAQ7B,IAAKO,QAAAA,EAAU,OAEhDV,IAAYqB,EAAAA,EAAAA,GAAAY,EAAA,CAAQC,MAAO,CAAEC,UAAcjC,EAAc,MAASwB,SAAQ1B,SAE/E,EAIEsB,GAASc,EAAAA,EAAAA,GAAA,UAAAC,OAAA,YAAAD,CAAA,oCAIXE,IAAA,IAAGb,KAAA3B,EAAMyC,OAAAvC,GAAOsC,EAAA,OACNE,EAAAA,EAAAA,IAAA,UAAAxC,QAAAA,EAAU,EACT,gBAAAF,EAAO,EAAI,sEAEvB,iBAGG8B,GAAIQ,EAAAA,EAAAA,GAAA,QAAAC,OAAA,YAAAD,EACNK,IAAA,IAAGrB,MAAAtB,GAAM2C,EAAA,OAAMD,EAAAA,EAAAA,IACN,SAAA1C,EAAA,mCAGV,iBAGG+B,GAAOO,EAAAA,EAAAA,GAAA,OAAAC,OAAA,YAAAD,CAAA,0DAITM,IAAA,IAAGvB,OAAArB,GAAO4C,EAAA,OAAMF,EAAAA,EAAAA,IACE,kBAAA1C,EAAA,KACnB,iBAGGgC,GAAGM,EAAAA,EAAAA,GAAA,OAAAC,OAAA,YAAAD,CAAA,CAAAO,KAAA,UAAAC,OAAA,0DAQHX,GAAOG,EAAAA,EAAAA,GAAA,KAAAC,OAAA,YAAAD,EACTS,IAAA,IAAGC,MAAAhD,GAAM+C,EAAA,OAAML,EAAAA,EAAAA,IACN,SAAA1C,EAAMiD,OAAOC,QAAQC,SAAQ,yCAGvC,gB","sources":["webpack://@vallista/blog/../../../src/components/Image/index.tsx"],"sourcesContent":["import { css } from '@emotion/react'\nimport styled from '@emotion/styled'\nimport { useEffect, useRef, useState, VFC } from 'react'\n\nimport { raiseDecimalPoint } from '../../utils/math'\nimport { ImageProps } from './type'\n\n/**\n * # Image\n * \n * 이미지 컴포넌트.\n * \n * 1. 이미지를 불러오기 전 로딩을 진행하고\n * 2. 로딩이 완료되면 fade-in 애니메이션으로 보여줍니다.\n * \n * @param {ImageProps} {@link ImageProps} 기본적인 프롭\n * \n * @example ```tsx\n  <Image\n    src={`https://assets.vercel.com/image/upload/q_auto/front/zeit/og.png`}\n    width={540}\n    height={300}\n    margin={0}\n  />\n\n  <Image\n    src={`https://assets.vercel.com/image/upload/q_auto/front/assets/design/components/triangle.gif`}\n    width={540}\n    height={309}\n    margin={0}\n    caption='Source: giphy.com'\n    captionSpacing={20}\n  />\n * ```\n */\nexport const ImageComponent: VFC<ImageProps> = (props) => {\n  const { caption, captionSpacing, src, ...otherProps } = props\n\n  const ref = useRef<HTMLImageElement>(null)\n  const [imgSrc, setImgSrc] = useState<string | null>(null)\n\n  useEffect(() => {\n    const imageLoader = new Image()\n    imageLoader.src = src\n\n    imageLoader.onload = () => {\n      setImgSrc(src)\n    }\n\n    return () => {\n      imageLoader.onload = null\n    }\n  }, [])\n\n  const height = raiseDecimalPoint((otherProps.height / otherProps.width) * 100)\n  const onlyProps = {\n    src: imgSrc\n  }\n\n  return (\n    <Container {...onlyProps} {...otherProps} show={!!imgSrc}>\n      <Main width={otherProps.width}>\n        <Wrapper height={height}>\n          <Img ref={ref} decoding='async' src={imgSrc ?? ''} />\n        </Wrapper>\n        {caption && <Caption style={{ marginTop: `${captionSpacing}px` }}>{caption}</Caption>}\n      </Main>\n    </Container>\n  )\n}\n\nconst Container = styled.figure<{ show: boolean } & Pick<ImageProps, 'width' | 'height' | 'margin'>>`\n  display: block;\n  text-align: center;\n\n  ${({ show, margin }) => css`\n    margin: ${margin ?? 0}px 0;\n    opacity: ${show ? 1 : 0};\n    transition: opacity 0.2s cubic-bezier(0.455, 0.03, 0.515, 0.955);\n  `}\n`\n\nconst Main = styled.main<Pick<ImageProps, 'width'>>`\n  ${({ width }) => css`\n    width: ${width}px;\n    margin: 0 auto;\n    max-width: 100%;\n  `}\n`\n\nconst Wrapper = styled.div<{ height: number }>`\n  display: flex;\n  justify-content: center;\n  position: relative;\n  ${({ height }) => css`\n    padding-bottom: ${height}%;\n  `}\n`\n\nconst Img = styled.img`\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n`\n\nconst Caption = styled.p`\n  ${({ theme }) => css`\n    color: ${theme.colors.PRIMARY.ACCENT_5};\n    font-size: 0.875rem;\n    text-align: center;\n  `}\n`\n"],"names":["s","I","caption","c","captionSpacing","d","src","W","b","_objectWithoutPropertiesLoose","_excluded","B","X","C","Z","a","H","u","Image","onload","A","V","height","width","G","n","Object","assign","show","children","i","Y","h","m","ref","decoding","x","style","marginTop","g","target","_ref","margin","l","_ref2","_ref3","name","styles","_ref4","theme","colors","PRIMARY","ACCENT_5"],"sourceRoot":""}